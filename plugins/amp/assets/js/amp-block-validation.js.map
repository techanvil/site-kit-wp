{"version":3,"file":"amp-block-validation.js","mappings":"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3B;AAA3B,KAGC,kEAAC,0DAAD,OAHD,CADD;AAOA;AAEDvC,OAAO,CAAC5F,SAAR,GAAoB;AACnBmI,EAAAA,MAAM,EAAErJ,wDAAcwC;AADH,CAApB;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAgB;;AAEhB;AACA;;AAEA,kBAAkB,sBAAsB;AACxC;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK,KAA6B;AAClC;AACA;AACA,GAAG,SAAS,IAA4E;AACxF;AACA,EAAE,iCAAqB,EAAE,mCAAE;AAC3B;AACA,GAAG;AAAA,kGAAC;AACJ,GAAG,KAAK,EAEN;AACF,CAAC;;;;;;;;;;;;;ACzDD;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,IAAI,IAAqC;AACzC,6BAA6B,mBAAO,CAAC,yFAA4B;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,WAAW;AACtB;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6GAA6G;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;;AAEA;;;;;;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,kDAAU;AAChC,aAAa,mBAAO,CAAC,4DAAe;;AAEpC,2BAA2B,mBAAO,CAAC,yFAA4B;AAC/D,qBAAqB,mBAAO,CAAC,qEAAkB;;AAE/C;AACA;;AAEA,IAAI,IAAqC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,8BAA8B;AAC9B,QAAQ;AACR;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,SAAS,KAAqC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,IAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,KAAqC,4FAA4F,CAAM;AAC7I;AACA;;AAEA,oBAAoB,gCAAgC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,gCAAgC;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;AC9kBA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,IAAqC;AACzC,gBAAgB,mBAAO,CAAC,kDAAU;;AAElC;AACA;AACA;AACA,mBAAmB,mBAAO,CAAC,uFAA2B;AACtD,EAAE,KAAK,EAIN;;;;;;;;;;;;AClBD;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;;;AAIb,IAAI,IAAqC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E;AAC3E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;;AAEjD;AACA;AACA;AACA,kDAAkD;;AAElD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB,sBAAsB;AACtB,uBAAuB;AACvB,uBAAuB;AACvB,eAAe;AACf,kBAAkB;AAClB,gBAAgB;AAChB,YAAY;AACZ,YAAY;AACZ,cAAc;AACd,gBAAgB;AAChB,kBAAkB;AAClB,gBAAgB;AAChB,mBAAmB;AACnB,wBAAwB;AACxB,yBAAyB;AACzB,yBAAyB;AACzB,iBAAiB;AACjB,oBAAoB;AACpB,kBAAkB;AAClB,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,kBAAkB;AAClB,oBAAoB;AACpB,kBAAkB;AAClB,0BAA0B;AAC1B,cAAc;AACd,GAAG;AACH;;;;;;;;;;;;ACpLa;;AAEb,IAAI,KAAqC,EAAE,EAE1C,CAAC;AACF,EAAE,gIAAyD;AAC3D;;;;;;;;;;;;ACNA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAe;AACf;AACA,oBAAoB,sBAAsB;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;UChBA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AACA;AACA;AAEAiO,mDAAW,CAAEX,iDAAF,CAAX;;AAEA,MAAMgB,OAAO,GAAGC,oFAAhB;;AAEAD,OAAO,CAACG,IAAR,GAAeC,OAAf,CAA0BC,UAAF,IAAkB;AACzC,QAAM;AAAEC,IAAAA,OAAO,EAAEC,MAAX;AAAmBzU,IAAAA,WAAnB;AAAgCiS,IAAAA;AAAhC,MAAgDiC,OAAO,CAAEK,UAAF,CAA7D;AAEAN,EAAAA,kEAAc,CAAEjU,WAAF,EAAe;AAC5B0F,IAAAA,IAAI,EAAEuM,WADsB;AAE5BwC,IAAAA;AAF4B,GAAf,CAAd;AAIA,CAPD;AASAT,2DAAS,CAAE,kBAAF,EAAsB,+BAAtB,EAAuD/G,qFAAvD,EAA6E,CAAC,EAA9E,CAAT,C","sources":["webpack://amp-wp//home/snarf/git-public/ampproject/amp-wp/assets/src/block-validation/plugins|sync|/.*\\.js$/","webpack://amp-wp/./assets/src/block-validation/components/amp-document-status/index.js","webpack://amp-wp/./assets/src/block-validation/components/amp-toggle/index.js","webpack://amp-wp/./assets/src/block-validation/components/amp-validation-status/index.js","webpack://amp-wp/./assets/src/block-validation/components/amp-validation-status/revalidate-notification.js","webpack://amp-wp/./assets/src/block-validation/components/amp-validation-status/status-notification.js","webpack://amp-wp/./assets/src/block-validation/components/error/error-content.js","webpack://amp-wp/./assets/src/block-validation/components/error/error-panel-title.js","webpack://amp-wp/./assets/src/block-validation/components/error/error-type-icon.js","webpack://amp-wp/./assets/src/block-validation/components/error/get-error-source-title.js","webpack://amp-wp/./assets/src/block-validation/components/error/index.js","webpack://amp-wp/./assets/src/block-validation/components/icon/index.js","webpack://amp-wp/./assets/src/block-validation/components/invalid-block-outline/index.js","webpack://amp-wp/./assets/src/block-validation/components/sidebar-notification/index.js","webpack://amp-wp/./assets/src/block-validation/components/sidebar/index.js","webpack://amp-wp/./assets/src/block-validation/components/with-amp-toolbar-button/amp-toolbar-button.js","webpack://amp-wp/./assets/src/block-validation/components/with-amp-toolbar-button/index.js","webpack://amp-wp/./assets/src/block-validation/hooks/use-amp-document-toggle.js","webpack://amp-wp/./assets/src/block-validation/hooks/use-errors-fetching-state-changes.js","webpack://amp-wp/./assets/src/block-validation/hooks/use-post-dirty-state-changes.js","webpack://amp-wp/./assets/src/block-validation/hooks/use-validation-error-state-updates.js","webpack://amp-wp/./assets/src/block-validation/plugins/amp-block-validation.js","webpack://amp-wp/./assets/src/block-validation/plugins/amp-document-setting-panel.js","webpack://amp-wp/./assets/src/block-validation/plugins/amp-pre-publish-panel.js","webpack://amp-wp/./assets/src/block-validation/store/index.js","webpack://amp-wp/./assets/src/components/loading/index.js","webpack://amp-wp/./node_modules/classnames/index.js","webpack://amp-wp/./assets/src/block-validation/components/error/style.css?8985","webpack://amp-wp/./assets/src/block-validation/components/icon/style.css?afb1","webpack://amp-wp/./assets/src/block-validation/components/sidebar-notification/style.css?0414","webpack://amp-wp/./assets/src/block-validation/components/sidebar/style.css?44c9","webpack://amp-wp/./assets/src/components/loading/style.css?8f46","webpack://amp-wp/./node_modules/object-assign/index.js","webpack://amp-wp/./node_modules/prop-types/checkPropTypes.js","webpack://amp-wp/./node_modules/prop-types/factoryWithTypeCheckers.js","webpack://amp-wp/./node_modules/prop-types/index.js","webpack://amp-wp/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://amp-wp/./node_modules/react-is/cjs/react-is.development.js","webpack://amp-wp/./node_modules/react-is/index.js","webpack://amp-wp/external var \"ampBlockValidation\"","webpack://amp-wp/external window \"React\"","webpack://amp-wp/external window \"lodash\"","webpack://amp-wp/external window [\"wp\",\"apiFetch\"]","webpack://amp-wp/external window [\"wp\",\"blockEditor\"]","webpack://amp-wp/external window [\"wp\",\"components\"]","webpack://amp-wp/external window [\"wp\",\"compose\"]","webpack://amp-wp/external window [\"wp\",\"data\"]","webpack://amp-wp/external window [\"wp\",\"editPost\"]","webpack://amp-wp/external window [\"wp\",\"element\"]","webpack://amp-wp/external window [\"wp\",\"hooks\"]","webpack://amp-wp/external window [\"wp\",\"i18n\"]","webpack://amp-wp/external window [\"wp\",\"plugins\"]","webpack://amp-wp/external window [\"wp\",\"url\"]","webpack://amp-wp/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://amp-wp/webpack/bootstrap","webpack://amp-wp/webpack/runtime/compat get default export","webpack://amp-wp/webpack/runtime/define property getters","webpack://amp-wp/webpack/runtime/hasOwnProperty shorthand","webpack://amp-wp/webpack/runtime/make namespace object","webpack://amp-wp/./assets/src/block-validation/index.js"],"sourcesContent":["var map = {\n\t\"./amp-block-validation.js\": \"./assets/src/block-validation/plugins/amp-block-validation.js\",\n\t\"./amp-document-setting-panel.js\": \"./assets/src/block-validation/plugins/amp-document-setting-panel.js\",\n\t\"./amp-pre-publish-panel.js\": \"./assets/src/block-validation/plugins/amp-pre-publish-panel.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./assets/src/block-validation/plugins sync recursive .*\\\\.js$\";","/**\n * WordPress dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { Button, PanelRow } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport AMPValidationErrorsKeptIcon from '../../../../images/amp-validation-errors-kept.svg';\nimport BellIcon from '../../../../images/bell-icon.svg';\nimport { BLOCK_VALIDATION_STORE_KEY } from '../../store';\nimport { StatusIcon } from '../icon';\nimport { SidebarNotification } from '../sidebar-notification';\nimport { useAMPDocumentToggle } from '../../hooks/use-amp-document-toggle';\nimport { useErrorsFetchingStateChanges } from '../../hooks/use-errors-fetching-state-changes';\nimport { PLUGIN_NAME, SIDEBAR_NAME } from '../../plugins/amp-block-validation';\nimport AMPToggle from '../amp-toggle';\n\n/**\n * AMP document status notification component.\n */\nexport default function AMPDocumentStatusNotification() {\n\tconst { isAMPEnabled } = useAMPDocumentToggle();\n\tconst { isFetchingErrors, fetchingErrorsMessage } = useErrorsFetchingStateChanges();\n\n\tconst {\n\t\topenGeneralSidebar,\n\t\tclosePublishSidebar,\n\t} = useDispatch( 'core/edit-post' );\n\n\tconst {\n\t\tisPostDirty,\n\t\tmaybeIsPostDirty,\n\t\tkeptMarkupValidationErrorCount,\n\t\treviewedValidationErrorCount,\n\t\tunreviewedValidationErrorCount,\n\t} = useSelect( ( select ) => ( {\n\t\tisPostDirty: select( BLOCK_VALIDATION_STORE_KEY ).getIsPostDirty(),\n\t\tmaybeIsPostDirty: select( BLOCK_VALIDATION_STORE_KEY ).getMaybeIsPostDirty(),\n\t\tkeptMarkupValidationErrorCount: select( BLOCK_VALIDATION_STORE_KEY ).getKeptMarkupValidationErrors().length,\n\t\treviewedValidationErrorCount: select( BLOCK_VALIDATION_STORE_KEY ).getReviewedValidationErrors().length,\n\t\tunreviewedValidationErrorCount: select( BLOCK_VALIDATION_STORE_KEY ).getUnreviewedValidationErrors().length,\n\t} ), [] );\n\n\tif ( ! isAMPEnabled ) {\n\t\treturn (\n\t\t\t<PanelRow>\n\t\t\t\t<AMPToggle />\n\t\t\t</PanelRow>\n\t\t);\n\t}\n\n\tif ( isFetchingErrors ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<AMPToggle />\n\t\t\t\t</PanelRow>\n\t\t\t\t<SidebarNotification\n\t\t\t\t\tmessage={ fetchingErrorsMessage }\n\t\t\t\t\tisLoading={ true }\n\t\t\t\t\tisSmall={ true }\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n\n\tconst openBlockValidationSidebar = () => {\n\t\tclosePublishSidebar();\n\t\topenGeneralSidebar( `${ PLUGIN_NAME }/${ SIDEBAR_NAME }` );\n\t};\n\n\tif ( isPostDirty || maybeIsPostDirty ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<AMPToggle />\n\t\t\t\t</PanelRow>\n\t\t\t\t<SidebarNotification\n\t\t\t\t\ticon={ <BellIcon /> }\n\t\t\t\t\tmessage={ maybeIsPostDirty\n\t\t\t\t\t\t? __( 'Content may have changed. Trigger validation in the AMP Validation sidebar.', 'amp' )\n\t\t\t\t\t\t: __( 'Content has changed. Trigger validation in the AMP Validation sidebar.', 'amp' ) }\n\t\t\t\t\tisSmall={ true }\n\t\t\t\t/>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={ openBlockValidationSidebar }\n\t\t\t\t\t\tisSecondary={ true }\n\t\t\t\t\t\tisSmall={ true }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Open AMP Validation', 'amp' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</PanelRow>\n\t\t\t</>\n\t\t);\n\t}\n\n\tif ( keptMarkupValidationErrorCount > 0 ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<AMPToggle />\n\t\t\t\t</PanelRow>\n\t\t\t\t<SidebarNotification\n\t\t\t\t\ticon={ <AMPValidationErrorsKeptIcon /> }\n\t\t\t\t\tmessage={\n\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t/* translators: %d is count of validation errors whose invalid markup is kept */\n\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t'AMP is blocked due to %d validation issue marked as kept.',\n\t\t\t\t\t\t\t\t'AMP is blocked due to %d validation issues marked as kept.',\n\t\t\t\t\t\t\t\tkeptMarkupValidationErrorCount,\n\t\t\t\t\t\t\t\t'amp',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tkeptMarkupValidationErrorCount,\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tisSmall={ true }\n\t\t\t\t/>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={ openBlockValidationSidebar }\n\t\t\t\t\t\tisSecondary={ true }\n\t\t\t\t\t\tisSmall={ true }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ _n(\n\t\t\t\t\t\t\t'Review issue',\n\t\t\t\t\t\t\t'Review issues',\n\t\t\t\t\t\t\tkeptMarkupValidationErrorCount,\n\t\t\t\t\t\t\t'amp',\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Button>\n\t\t\t\t</PanelRow>\n\t\t\t</>\n\t\t);\n\t}\n\n\tif ( unreviewedValidationErrorCount > 0 ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<AMPToggle />\n\t\t\t\t</PanelRow>\n\t\t\t\t<SidebarNotification\n\t\t\t\t\ticon={ <StatusIcon broken={ true } /> }\n\t\t\t\t\tmessage={\n\t\t\t\t\t\t// @todo De-duplicate with what is in AMPValidationStatusNotification.\n\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t/* translators: %d is count of unreviewed validation error */\n\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t'AMP is valid, but %d issue needs review.',\n\t\t\t\t\t\t\t\t'AMP is valid, but %d issues need review.',\n\t\t\t\t\t\t\t\tunreviewedValidationErrorCount,\n\t\t\t\t\t\t\t\t'amp',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tunreviewedValidationErrorCount,\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tisSmall={ true }\n\t\t\t\t/>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={ openBlockValidationSidebar }\n\t\t\t\t\t\tisSecondary={ true }\n\t\t\t\t\t\tisSmall={ true }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ _n(\n\t\t\t\t\t\t\t'Review issue',\n\t\t\t\t\t\t\t'Review issues',\n\t\t\t\t\t\t\tunreviewedValidationErrorCount,\n\t\t\t\t\t\t\t'amp',\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Button>\n\t\t\t\t</PanelRow>\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PanelRow>\n\t\t\t\t<AMPToggle />\n\t\t\t</PanelRow>\n\t\t\t<SidebarNotification\n\t\t\t\ticon={ <StatusIcon /> }\n\t\t\t\tmessage={\n\t\t\t\t\t// @todo De-duplicate with what is in AMPValidationStatusNotification.\n\t\t\t\t\treviewedValidationErrorCount > 0\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t/* translators: %d is count of unreviewed validation error */\n\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t'AMP is valid. %d issue was reviewed.',\n\t\t\t\t\t\t\t\t'AMP is valid. %d issues were reviewed.',\n\t\t\t\t\t\t\t\treviewedValidationErrorCount,\n\t\t\t\t\t\t\t\t'amp',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\treviewedValidationErrorCount,\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: __( 'No AMP validation issues detected.', 'amp' )\n\t\t\t\t}\n\t\t\t\tisSmall={ true }\n\t\t\t/>\n\t\t\t{ reviewedValidationErrorCount > 0 && (\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={ openBlockValidationSidebar }\n\t\t\t\t\t\tisSecondary={ true }\n\t\t\t\t\t\tisSmall={ true }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Open AMP Validation', 'amp' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</PanelRow>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { FormToggle } from '@wordpress/components';\nimport { useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useAMPDocumentToggle } from '../../hooks/use-amp-document-toggle';\n\n/**\n * AMP toggle component.\n */\nexport default function AMPToggle() {\n\tconst { isAMPEnabled, toggleAMP } = useAMPDocumentToggle();\n\n\t/**\n\t * Use a random ID for the HTML input since the AMP toggle may be used\n\t * more than once on the same page.\n\t */\n\tconst htmlId = useRef( `amp-toggle-${ Math.random().toString( 32 ).substr( -4 ) }` );\n\n\treturn (\n\t\t<>\n\t\t\t<label htmlFor={ htmlId.current }>\n\t\t\t\t{ __( 'Enable AMP', 'amp' ) }\n\t\t\t</label>\n\t\t\t<FormToggle\n\t\t\t\tchecked={ isAMPEnabled }\n\t\t\t\tonChange={ toggleAMP }\n\t\t\t\tid={ htmlId.current }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport { SidebarNotificationsContainer } from '../sidebar-notification';\nimport AMPRevalidateNotification from './revalidate-notification';\nimport AMPValidationStatusNotification from './status-notification';\n\nexport default function AMPValidationStatus() {\n\treturn (\n\t\t<SidebarNotificationsContainer isShady={ true }>\n\t\t\t<AMPRevalidateNotification />\n\t\t\t<AMPValidationStatusNotification />\n\t\t</SidebarNotificationsContainer>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { BLOCK_VALIDATION_STORE_KEY } from '../../store';\nimport BellIcon from '../../../../images/bell-icon.svg';\nimport { SidebarNotification } from '../sidebar-notification';\nimport { useErrorsFetchingStateChanges } from '../../hooks/use-errors-fetching-state-changes';\n\n/**\n * AMP re-validate status message.\n */\nexport default function AMPRevalidateNotification() {\n\tconst { autosave, savePost } = useDispatch( 'core/editor' );\n\tconst { isFetchingErrors, fetchingErrorsMessage } = useErrorsFetchingStateChanges();\n\n\tconst {\n\t\tisDraft,\n\t\tisPostDirty,\n\t\tmaybeIsPostDirty,\n\t} = useSelect( ( select ) => ( {\n\t\tisDraft: [ 'draft', 'auto-draft' ].indexOf( select( 'core/editor' ).getEditedPostAttribute( 'status' ) ) !== -1,\n\t\tisPostDirty: select( BLOCK_VALIDATION_STORE_KEY ).getIsPostDirty(),\n\t\tmaybeIsPostDirty: select( BLOCK_VALIDATION_STORE_KEY ).getMaybeIsPostDirty(),\n\t} ), [] );\n\n\tif ( isFetchingErrors ) {\n\t\treturn (\n\t\t\t<SidebarNotification message={ fetchingErrorsMessage } isLoading={ true } />\n\t\t);\n\t}\n\n\tif ( ! isPostDirty && ! maybeIsPostDirty ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<SidebarNotification\n\t\t\ticon={ <BellIcon /> }\n\t\t\tmessage={ maybeIsPostDirty\n\t\t\t\t? __( 'Content may have changed.', 'amp' )\n\t\t\t\t: __( 'Content has changed.', 'amp' ) }\n\t\t\taction={ isDraft ? (\n\t\t\t\t<Button\n\t\t\t\t\tisLink\n\t\t\t\t\tonClick={ () => savePost( { isPreview: true } ) }>\n\t\t\t\t\t{ __( 'Save draft and validate', 'amp' ) }\n\t\t\t\t</Button>\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tisLink\n\t\t\t\t\tonClick={ () => autosave( { isPreview: true } ) }>\n\t\t\t\t\t{ __( 'Re-validate', 'amp' ) }\n\t\t\t\t</Button>\n\t\t\t) }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { Button, ExternalLink } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport AMPValidationErrorsKeptIcon from '../../../../images/amp-validation-errors-kept.svg';\nimport { BLOCK_VALIDATION_STORE_KEY } from '../../store';\nimport { StatusIcon } from '../icon';\nimport { SidebarNotification } from '../sidebar-notification';\nimport { useErrorsFetchingStateChanges } from '../../hooks/use-errors-fetching-state-changes';\n\n/**\n * AMP validation status notification component.\n */\nexport default function AMPValidationStatusNotification() {\n\tconst { autosave, savePost } = useDispatch( 'core/editor' );\n\tconst { isFetchingErrors } = useErrorsFetchingStateChanges();\n\n\tconst {\n\t\tfetchingErrorsRequestErrorMessage,\n\t\tisDraft,\n\t\tisEditedPostNew,\n\t\tkeptMarkupValidationErrorCount,\n\t\treviewLink,\n\t\tsupportLink,\n\t\tunreviewedValidationErrorCount,\n\t\tvalidationErrorCount,\n\t} = useSelect( ( select ) => ( {\n\t\tfetchingErrorsRequestErrorMessage: select( BLOCK_VALIDATION_STORE_KEY ).getFetchingErrorsRequestErrorMessage(),\n\t\tisDraft: [ 'draft', 'auto-draft' ].indexOf( select( 'core/editor' ).getEditedPostAttribute( 'status' ) ) !== -1,\n\t\tisEditedPostNew: select( 'core/editor' ).isEditedPostNew(),\n\t\tkeptMarkupValidationErrorCount: select( BLOCK_VALIDATION_STORE_KEY ).getKeptMarkupValidationErrors().length,\n\t\treviewLink: select( BLOCK_VALIDATION_STORE_KEY ).getReviewLink(),\n\t\tsupportLink: select( BLOCK_VALIDATION_STORE_KEY ).getSupportLink(),\n\t\tunreviewedValidationErrorCount: select( BLOCK_VALIDATION_STORE_KEY ).getUnreviewedValidationErrors().length,\n\t\tvalidationErrorCount: select( BLOCK_VALIDATION_STORE_KEY ).getValidationErrors().length,\n\t} ), [] );\n\n\tif ( isFetchingErrors ) {\n\t\treturn null;\n\t}\n\n\tif ( isEditedPostNew ) {\n\t\treturn (\n\t\t\t<SidebarNotification\n\t\t\t\ticon={ <StatusIcon /> }\n\t\t\t\tmessage={ __( 'Validation will be checked upon saving.', 'amp' ) }\n\t\t\t/>\n\t\t);\n\t}\n\n\tconst sidebarNotificationAction = reviewLink && (\n\t\t<>\n\t\t\t<ExternalLink href={ reviewLink }>\n\t\t\t\t{ __( 'View technical details', 'amp' ) }\n\t\t\t</ExternalLink>\n\t\t\t<br />\n\t\t\t{\n\t\t\t\tsupportLink && (\n\t\t\t\t\t<ExternalLink href={ supportLink }>\n\t\t\t\t\t\t{ __( 'Get Support', 'amp' ) }\n\t\t\t\t\t</ExternalLink>\n\t\t\t\t)\n\t\t\t}\n\t\t</>\n\t);\n\n\tif ( fetchingErrorsRequestErrorMessage ) {\n\t\treturn (\n\t\t\t<SidebarNotification\n\t\t\t\ticon={ <AMPValidationErrorsKeptIcon /> }\n\t\t\t\tmessage={ fetchingErrorsRequestErrorMessage }\n\t\t\t\taction={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisLink\n\t\t\t\t\t\tonClick={ isDraft\n\t\t\t\t\t\t\t? () => savePost( { isPreview: true } )\n\t\t\t\t\t\t\t: () => autosave( { isPreview: true } )\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Try again', 'amp' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( keptMarkupValidationErrorCount > 0 ) {\n\t\treturn (\n\t\t\t<SidebarNotification\n\t\t\t\ticon={ <AMPValidationErrorsKeptIcon /> }\n\t\t\t\tmessage={\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %d is count of validation errors whose invalid markup is kept */\n\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t'AMP is disabled due to invalid markup being kept for %d issue.',\n\t\t\t\t\t\t\t'AMP is disabled due to invalid markup being kept for %d issues.',\n\t\t\t\t\t\t\tkeptMarkupValidationErrorCount,\n\t\t\t\t\t\t\t'amp',\n\t\t\t\t\t\t),\n\t\t\t\t\t\tkeptMarkupValidationErrorCount,\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\taction={ sidebarNotificationAction }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( unreviewedValidationErrorCount > 0 ) {\n\t\treturn (\n\t\t\t<SidebarNotification\n\t\t\t\ticon={ <StatusIcon broken={ true } /> }\n\t\t\t\tmessage={\n\t\t\t\t\t// @todo De-duplicate with what is in AMPDocumentStatusNotification.\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %d is count of unreviewed validation error */\n\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t'AMP is valid, but %d issue needs review.',\n\t\t\t\t\t\t\t'AMP is valid, but %d issues need review.',\n\t\t\t\t\t\t\tunreviewedValidationErrorCount,\n\t\t\t\t\t\t\t'amp',\n\t\t\t\t\t\t),\n\t\t\t\t\t\tunreviewedValidationErrorCount,\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\taction={ sidebarNotificationAction }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( validationErrorCount > 0 ) {\n\t\treturn <SidebarNotification\n\t\t\ticon={ <StatusIcon /> }\n\t\t\tmessage={\n\t\t\t\t// @todo De-duplicate with what is in AMPDocumentStatusNotification.\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %d is count of unreviewed validation error */\n\t\t\t\t\t_n(\n\t\t\t\t\t\t'AMP is valid. %d issue was reviewed.',\n\t\t\t\t\t\t'AMP is valid. %d issues were reviewed.',\n\t\t\t\t\t\tvalidationErrorCount,\n\t\t\t\t\t\t'amp',\n\t\t\t\t\t),\n\t\t\t\t\tvalidationErrorCount,\n\t\t\t\t)\n\t\t\t}\n\t\t\taction={ sidebarNotificationAction }\n\t\t/>;\n\t}\n\n\t// @todo De-duplicate with what is in AMPDocumentStatusNotification.\n\treturn (\n\t\t<SidebarNotification\n\t\t\ticon={ <StatusIcon /> }\n\t\t\tmessage={ __( 'No AMP validation issues detected.', 'amp' ) }\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport {\n\tblockSources,\n\tVALIDATION_ERROR_ACK_ACCEPTED_STATUS,\n\tVALIDATION_ERROR_ACK_REJECTED_STATUS,\n\tVALIDATION_ERROR_NEW_ACCEPTED_STATUS,\n\tVALIDATION_ERROR_NEW_REJECTED_STATUS,\n} from 'amp-block-validation';\n\n/**\n * WordPress dependencies\n */\nimport { sprintf, __ } from '@wordpress/i18n';\nimport { BlockIcon } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport AMPAlert from '../../../../images/amp-alert.svg';\nimport AMPDelete from '../../../../images/amp-delete.svg';\nimport { getErrorSourceTitle } from './get-error-source-title';\n\n/**\n * Display error source title.\n *\n * Error title not directly related to the post content are determined by the `getErrorSourceTitle` helper function.\n * For errors that are generated by blocks in the post content (`clientId` is defined), use the `blockSources` object.\n * The exception is `core/shortcode` block that may be mistakenly attributed to WordPress core while in fact it is\n * generated by a plugin or theme.\n *\n * @param {Object}   props\n * @param {string}   props.clientId      Error client ID.\n * @param {string}   props.blockTypeName Block type name.\n * @param {Object[]} props.sources       List of source objects from the PHP backtrace.\n */\nfunction ErrorSource( { clientId, blockTypeName, sources } ) {\n\tlet source;\n\n\tconst blockSource = blockSources?.[ blockTypeName ];\n\n\tif ( clientId && 'core/shortcode' !== blockTypeName ) {\n\t\tswitch ( blockSource?.type ) {\n\t\t\tcase 'plugin':\n\t\t\t\tsource = sprintf(\n\t\t\t\t\t/* translators: %s: plugin name. */\n\t\t\t\t\t__( `%s (plugin)`, 'amp' ),\n\t\t\t\t\tblockSource.title,\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'mu-plugin':\n\t\t\t\tsource = sprintf(\n\t\t\t\t\t/* translators: %s: plugin name. */\n\t\t\t\t\t__( `%s (must-use plugin)`, 'amp' ),\n\t\t\t\t\tblockSource.title,\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'theme':\n\t\t\t\tsource = sprintf(\n\t\t\t\t\t/* translators: %s: theme name. */\n\t\t\t\t\t__( `%s (theme)`, 'amp' ),\n\t\t\t\t\tblockSource.title,\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tsource = blockSource?.title;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif ( ! source ) {\n\t\tsource = getErrorSourceTitle( sources );\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<dt>\n\t\t\t\t{ __( 'Source', 'amp' ) }\n\t\t\t</dt>\n\t\t\t<dd>\n\t\t\t\t{ source }\n\t\t\t</dd>\n\t\t</>\n\t);\n}\nErrorSource.propTypes = {\n\tblockTypeName: PropTypes.string,\n\tclientId: PropTypes.string,\n\tsources: PropTypes.arrayOf( PropTypes.object ).isRequired,\n};\n\n/**\n * @param {Object} props\n * @param {number} props.status Error status.\n */\nfunction MarkupStatus( { status } ) {\n\tlet keptRemoved;\n\tif ( [ VALIDATION_ERROR_NEW_ACCEPTED_STATUS, VALIDATION_ERROR_ACK_ACCEPTED_STATUS ].includes( status ) ) {\n\t\tkeptRemoved = (\n\t\t\t<span className=\"amp-error__kept-removed amp-error__kept-removed--removed\">\n\t\t\t\t{ __( 'Removed', 'amp' ) }\n\t\t\t\t<span>\n\t\t\t\t\t<AMPDelete />\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t);\n\t} else {\n\t\tkeptRemoved = (\n\t\t\t<span className=\"amp-error__kept-removed amp-error__kept-removed--kept\">\n\t\t\t\t{ __( 'Kept', 'amp' ) }\n\t\t\t\t<span>\n\t\t\t\t\t<AMPAlert />\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t);\n\t}\n\n\tlet reviewed;\n\tif ( [ VALIDATION_ERROR_ACK_ACCEPTED_STATUS, VALIDATION_ERROR_ACK_REJECTED_STATUS ].includes( status ) ) {\n\t\treviewed = __( 'Yes', 'amp' );\n\t} else {\n\t\treviewed = __( 'No', 'amp' );\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<dt>\n\t\t\t\t{ __( 'Markup status', 'amp' ) }\n\t\t\t</dt>\n\t\t\t<dd>\n\t\t\t\t{ keptRemoved }\n\t\t\t</dd>\n\t\t\t<dt>\n\t\t\t\t{ __( 'Reviewed', 'amp' ) }\n\t\t\t</dt>\n\t\t\t<dd>\n\t\t\t\t{ reviewed }\n\t\t\t</dd>\n\t\t</>\n\t);\n}\nMarkupStatus.propTypes = {\n\tstatus: PropTypes.number.isRequired,\n};\n\n/**\n * @param {Object} props\n * @param {Object} props.blockTypeIcon  Block type icon.\n * @param {string} props.blockTypeTitle Title of the block type.\n */\nfunction BlockType( { blockTypeIcon, blockTypeTitle } ) {\n\treturn (\n\t\t<>\n\t\t\t<dt>\n\t\t\t\t{ __( 'Block type', 'amp' ) }\n\t\t\t</dt>\n\t\t\t<dd>\n\t\t\t\t<span className=\"amp-error__block-type-description\">\n\t\t\t\t\t{ blockTypeTitle || __( 'unknown', 'amp' ) }\n\t\t\t\t\t{ blockTypeIcon && (\n\t\t\t\t\t\t<span className=\"amp-error__block-type-icon\">\n\t\t\t\t\t\t\t<BlockIcon icon={ blockTypeIcon } />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t</span>\n\t\t\t</dd>\n\t\t</>\n\t);\n}\nBlockType.propTypes = {\n\tblockTypeIcon: PropTypes.object,\n\tblockTypeTitle: PropTypes.string,\n};\n\n/**\n * Content inside an error panel.\n *\n * @param {Object}   props               Component props.\n * @param {Object}   props.blockType     Block type details.\n * @param {boolean}  props.isExternal    Flag indicating if the error comes from outside of post content.\n * @param {boolean}  props.removed       Flag indicating if the block has been removed.\n * @param {string}   props.clientId      Block client ID\n * @param {number}   props.status        Number indicating the error status.\n * @param {Object}   props.error         Error details.\n * @param {Object[]} props.error.sources Sources from the PHP backtrace for the error.\n */\nexport function ErrorContent( {\n\tblockType,\n\tclientId,\n\terror: { sources },\n\tisExternal,\n\tremoved,\n\tstatus,\n} ) {\n\tconst blockTypeTitle = blockType?.title;\n\tconst blockTypeName = blockType?.name;\n\tconst blockTypeIcon = blockType?.icon;\n\n\treturn (\n\t\t<>\n\t\t\t{ removed && (\n\t\t\t\t<p>\n\t\t\t\t\t{ __( 'This error is no longer detected, either because the block was removed or the editor mode was switched.', 'amp' ) }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t\t{ isExternal && (\n\t\t\t\t<p>\n\t\t\t\t\t{ __( 'This error comes from outside the content (e.g. header or footer).', 'amp' ) }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t\t<dl className=\"amp-error__details\">\n\t\t\t\t{ ! ( removed || isExternal ) && (\n\t\t\t\t\t<BlockType\n\t\t\t\t\t\tblockTypeIcon={ blockTypeIcon }\n\t\t\t\t\t\tblockTypeTitle={ blockTypeTitle }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<ErrorSource blockTypeName={ blockTypeName } clientId={ clientId } sources={ sources } />\n\t\t\t\t<MarkupStatus status={ status } />\n\t\t\t</dl>\n\t\t</>\n\t);\n}\nErrorContent.propTypes = {\n\tblockType: PropTypes.shape( {\n\t\ticon: PropTypes.object,\n\t\tname: PropTypes.string,\n\t\ttitle: PropTypes.string,\n\t} ),\n\tclientId: PropTypes.string,\n\terror: PropTypes.shape( {\n\t\tsources: PropTypes.arrayOf( PropTypes.object ),\n\t} ).isRequired,\n\tisExternal: PropTypes.bool,\n\tremoved: PropTypes.bool,\n\tstatus: PropTypes.oneOf( [\n\t\tVALIDATION_ERROR_ACK_ACCEPTED_STATUS,\n\t\tVALIDATION_ERROR_ACK_REJECTED_STATUS,\n\t\tVALIDATION_ERROR_NEW_REJECTED_STATUS,\n\t\tVALIDATION_ERROR_NEW_ACCEPTED_STATUS,\n\t] ).isRequired,\n};\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { ErrorTypeIcon } from './error-type-icon';\n\n/**\n * Panel title component for an individual error.\n *\n * @param {Object}  props            Component props.\n * @param {boolean} props.kept\n * @param {string}  props.title      Title string from error data.\n * @param {Object}  props.error      Error details.\n * @param {string}  props.error.type Error type.\n */\nexport function ErrorPanelTitle( {\n\tkept,\n\ttitle,\n\terror: { type },\n} ) {\n\treturn (\n\t\t<div\n\t\t\tclassName=\"amp-error__panel-title\"\n\t\t\ttitle={ kept ? __( 'This error has been kept, making this URL not AMP-compatible.', 'amp' ) : '' }\n\t\t>\n\t\t\t<div className=\"amp-error__icons\">\n\t\t\t\t{ type && (\n\t\t\t\t\t<div className={ `amp-error__error-type-icon amp-error__error-type-icon--${ type?.replace( /_/g, '-' ) }` }>\n\t\t\t\t\t\t<ErrorTypeIcon type={ type } />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"amp-error__title\"\n\t\t\t\tdangerouslySetInnerHTML={ {\n\t\t\t\t\t/* dangerouslySetInnerHTML reason: WordPress sometimes sends back HTML in error messages. */\n\t\t\t\t\t__html: title,\n\t\t\t\t} }\n\t\t\t/>\n\t\t</div>\n\t);\n}\nErrorPanelTitle.propTypes = {\n\tkept: PropTypes.bool,\n\ttitle: PropTypes.string.isRequired,\n\terror: PropTypes.shape( {\n\t\ttype: PropTypes.string,\n\t} ).isRequired,\n};\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport {\n\tCSS_ERROR_TYPE,\n\tHTML_ATTRIBUTE_ERROR_TYPE,\n\tHTML_ELEMENT_ERROR_TYPE,\n\tJS_ERROR_TYPE,\n} from 'amp-block-validation';\n\n/**\n * Internal dependencies\n */\nimport HTMLErrorIcon from '../../../../images/amp-html-error-icon.svg';\nimport JSErrorIcon from '../../../../images/amp-js-error-icon.svg';\nimport CSSErrorIcon from '../../../../images/amp-css-error-icon.svg';\n\n/**\n * Component rendering an icon representing JS, CSS, or HTML.\n *\n * @param {Object} props\n * @param {string} props.type The error type.\n */\nexport function ErrorTypeIcon( { type } ) {\n\tswitch ( type ) {\n\t\tcase HTML_ATTRIBUTE_ERROR_TYPE:\n\t\tcase HTML_ELEMENT_ERROR_TYPE:\n\t\t\treturn <HTMLErrorIcon />;\n\n\t\tcase JS_ERROR_TYPE:\n\t\t\treturn <JSErrorIcon />;\n\n\t\tcase CSS_ERROR_TYPE:\n\t\t\treturn <CSSErrorIcon />;\n\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\nErrorTypeIcon.propTypes = {\n\ttype: PropTypes.string.isRequired,\n};\n","/**\n * External dependencies\n */\nimport { pluginNames, themeName, themeSlug } from 'amp-block-validation';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Retrieve sources keyed by type.\n *\n * @param {Object[]} sources Error source details from the PHP backtrace.\n * @return {{core: *[], plugin: *[], 'mu-plugin': *[], blocks: *[], theme: *[], embed: *[]}} Keyed sources.\n */\nfunction getKeyedSources( sources ) {\n\tconst keyedSources = { theme: [], plugin: [], 'mu-plugin': [], embed: [], core: [], blocks: [] };\n\n\tif ( ! sources?.length ) {\n\t\treturn keyedSources;\n\t}\n\n\tfor ( const source of sources ) {\n\t\tif ( source.type && source.type in keyedSources ) {\n\t\t\tkeyedSources[ source.type ].push( source );\n\t\t} else if ( 'block_name' in source ) {\n\t\t\tkeyedSources.blocks.push( source );\n\t\t}\n\t}\n\n\treturn keyedSources;\n}\n\n/**\n * Attempts to get the title of the plugin or theme responsible for an error.\n *\n * Adapted from AMP_Validated_URL_Post_Type::render_sources_column PHP method.\n *\n * @param {Object[]} sources Error source details from the PHP backtrace.\n */\nexport function getErrorSourceTitle( sources = [] ) {\n\tconst keyedSources = getKeyedSources( sources );\n\tconst output = [];\n\tconst uniquePluginNames = new Set( keyedSources.plugin.map( ( { name } ) => name ) );\n\tconst muPluginNames = new Set( keyedSources[ 'mu-plugin' ].map( ( { name } ) => name ) );\n\tlet combinedPluginNames = [ ...uniquePluginNames, ...muPluginNames ];\n\n\tif ( combinedPluginNames.length > 1 ) {\n\t\tcombinedPluginNames = combinedPluginNames.filter( ( slug ) => slug !== 'gutenberg' );\n\t}\n\n\tif ( 1 === combinedPluginNames.length ) {\n\t\toutput.push( pluginNames[ combinedPluginNames[ 0 ] ] || combinedPluginNames[ 0 ] );\n\t} else {\n\t\tconst pluginCount = uniquePluginNames.size;\n\t\tconst muPluginCount = muPluginNames.size;\n\n\t\tif ( 0 < pluginCount ) {\n\t\t\toutput.push( sprintf( '%1$s (%2$d)', __( 'Plugins', 'amp' ), pluginCount ) );\n\t\t}\n\n\t\tif ( 0 < muPluginCount ) {\n\t\t\toutput.push( sprintf( '%1$s (%2$d)', __( 'Must-use plugins', 'amp' ), muPluginCount ) );\n\t\t}\n\t}\n\n\tif ( 0 === keyedSources.embed.length ) {\n\t\tconst activeThemeSources = keyedSources.theme.filter( ( { name } ) => themeSlug === name );\n\t\tconst inactiveThemeSources = keyedSources.theme.filter( ( { name } ) => themeSlug !== name );\n\t\tif ( 0 < activeThemeSources.length ) {\n\t\t\toutput.push( themeName );\n\t\t}\n\n\t\tif ( 0 < inactiveThemeSources.length ) {\n\t\t\t/* translators: placeholder is the slug of an inactive WordPress theme. */\n\t\t\toutput.push( __( 'Inactive theme(s)', 'amp' ) );\n\t\t}\n\t}\n\n\tif ( 0 === output.length && 0 < keyedSources.blocks.length ) {\n\t\toutput.push( keyedSources.blocks[ 0 ].block_name );\n\t}\n\n\tif ( 0 === output.length && 0 < keyedSources.embed.length ) {\n\t\toutput.push( __( 'Embed', 'amp' ) );\n\t}\n\n\tif ( 0 === output.length && 0 < keyedSources.core.length ) {\n\t\toutput.push( __( 'Core', 'amp' ) );\n\t}\n\n\tif ( ! output.length && sources?.length ) {\n\t\toutput.push( __( 'Unknown', 'amp' ) );\n\t}\n\n\treturn output.join( ', ' );\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport {\n\tVALIDATION_ERROR_ACK_ACCEPTED_STATUS,\n\tVALIDATION_ERROR_ACK_REJECTED_STATUS,\n\tVALIDATION_ERROR_NEW_REJECTED_STATUS,\n} from 'amp-block-validation';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { PanelBody, Button, ExternalLink } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.css';\nimport { BLOCK_VALIDATION_STORE_KEY } from '../../store';\nimport { ErrorPanelTitle } from './error-panel-title';\nimport { ErrorContent } from './error-content';\n\n/**\n * Component rendering an individual error. Parent component is a <ul>.\n *\n * @param {Object} args          Component props.\n * @param {string} args.clientId\n * @param {number} args.error\n * @param {number} args.status\n * @param {number} args.term_id\n * @param {number} args.title\n */\nexport function Error( { clientId, error, status, term_id: termId, title } ) {\n\tconst { selectBlock } = useDispatch( 'core/block-editor' );\n\tconst reviewLink = useSelect( ( select ) => select( BLOCK_VALIDATION_STORE_KEY ).getReviewLink(), [] );\n\tconst reviewed = status === VALIDATION_ERROR_ACK_ACCEPTED_STATUS || status === VALIDATION_ERROR_ACK_REJECTED_STATUS;\n\tconst kept = status === VALIDATION_ERROR_ACK_REJECTED_STATUS || status === VALIDATION_ERROR_NEW_REJECTED_STATUS;\n\tconst isExternal = ! Boolean( clientId );\n\n\tconst { blockType, removed } = useSelect( ( select ) => {\n\t\tconst blockName = select( 'core/block-editor' ).getBlockName( clientId );\n\n\t\treturn {\n\t\t\tremoved: clientId && ! blockName,\n\t\t\tblockType: select( 'core/blocks' ).getBlockType( blockName ),\n\t\t};\n\t}, [ clientId ] );\n\n\tlet detailsUrl = null;\n\tif ( reviewLink ) {\n\t\tdetailsUrl = new URL( reviewLink );\n\t\tdetailsUrl.hash = `#tag-${ termId }`;\n\t}\n\n\tconst panelClassNames = classnames( 'amp-error', {\n\t\t'amp-error--reviewed': reviewed,\n\t\t'amp-error--new': ! reviewed,\n\t\t'amp-error--removed': removed,\n\t\t'amp-error--kept': kept,\n\t\t[ `error-${ clientId }` ]: clientId,\n\t} );\n\n\treturn (\n\t\t<PanelBody\n\t\t\tclassName={ panelClassNames }\n\t\t\ttitle={\n\t\t\t\t<ErrorPanelTitle\n\t\t\t\t\terror={ error }\n\t\t\t\t\tkept={ kept }\n\t\t\t\t\ttitle={ title }\n\t\t\t\t/>\n\t\t\t}\n\t\t\tinitialOpen={ false }\n\t\t>\n\t\t\t<ErrorContent\n\t\t\t\tblockType={ blockType }\n\t\t\t\tclientId={ clientId }\n\t\t\t\terror={ error }\n\t\t\t\tisExternal={ isExternal }\n\t\t\t\tremoved={ removed }\n\t\t\t\tstatus={ status }\n\t\t\t/>\n\n\t\t\t<div className=\"amp-error__actions\">\n\t\t\t\t{ ! ( removed || isExternal ) && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"amp-error__select-block\"\n\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tselectBlock( clientId );\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Select block', 'amp' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\t{ detailsUrl && (\n\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\thref={ detailsUrl.href }\n\t\t\t\t\t\tclassName=\"amp-error__details-link\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'View details', 'amp' ) }\n\t\t\t\t\t</ExternalLink>\n\t\t\t\t) }\n\t\t\t</div>\n\n\t\t</PanelBody>\n\t);\n}\nError.propTypes = {\n\tclientId: PropTypes.string,\n\terror: PropTypes.shape( {\n\t\tsources: PropTypes.arrayOf( PropTypes.object ).isRequired,\n\t\ttype: PropTypes.string,\n\t} ).isRequired,\n\tstatus: PropTypes.number.isRequired,\n\tterm_id: PropTypes.number.isRequired,\n\ttitle: PropTypes.string.isRequired,\n};\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport './style.css';\nimport AMPLogoIcon from '../../../../images/amp-logo-icon.svg';\nimport AMPToolbarIcon from '../../../../images/amp-icon-toolbar.svg';\nimport AMPToolbarIconBroken from '../../../../images/amp-toolbar-icon-broken.svg';\n\n/**\n * Plugin icon.\n *\n * @param {Object}  props\n * @param {boolean} props.hasBadge Whether the icon is showing a number.\n */\nfunction IconSVG( { hasBadge } ) {\n\treturn (\n\t\t<span className={ `amp-toolbar-icon components-menu-items__item-icon${ hasBadge ? ' amp-toolbar-icon--has-badge' : '' }` }>\n\t\t\t<AMPToolbarIcon />\n\t\t</span>\n\t);\n}\nIconSVG.propTypes = {\n\thasBadge: PropTypes.bool.isRequired,\n};\n\n/**\n * Plugin icon when AMP is broken at the URL.\n *\n * @param {Object}  props\n * @param {boolean} props.hasBadge Whether the icon is showing a number.\n */\nfunction BrokenIconSVG( { hasBadge } ) {\n\treturn (\n\t\t<span className={ `amp-toolbar-broken-icon${ hasBadge ? ' amp-toolbar-broken-icon--has-badge' : '' }` } >\n\t\t\t<AMPToolbarIconBroken />\n\t\t</span>\n\t);\n}\nBrokenIconSVG.propTypes = {\n\thasBadge: PropTypes.bool.isRequired,\n};\n\n/**\n * The icon to display in the editor toolbar to toggle the editor sidebar.\n *\n * @param {Object}  props\n * @param {boolean} props.broken Whether AMP is broken at the URL.\n * @param {number}  props.count  The number of new errors at the URL.\n */\nexport function ToolbarIcon( { broken = false, count } ) {\n\treturn (\n\t\t<div className={ `amp-plugin-icon ${ broken ? 'amp-plugin-icon--broken' : '' }` }>\n\t\t\t{\n\t\t\t\tbroken ? <BrokenIconSVG hasBadge={ Boolean( count ) } /> : <IconSVG hasBadge={ Boolean( count ) } />\n\t\t\t}\n\t\t\t{ 0 < count && (\n\t\t\t\t<div className=\"amp-error-count-badge\">\n\t\t\t\t\t{ count }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n}\nToolbarIcon.propTypes = {\n\tbroken: PropTypes.bool,\n\tcount: PropTypes.number.isRequired,\n};\n\n/**\n * The icon to display in the editor more menu.\n */\nexport function MoreMenuIcon() {\n\treturn <IconSVG hasBadge={ false } />;\n}\n\n/**\n * The status icon to display in the editor sidebar area.\n *\n * @param {Object}  props\n * @param {boolean} props.broken Whether AMP is broken at the URL.\n */\nexport function StatusIcon( { broken = false } ) {\n\treturn (\n\t\t<div className={ `amp-status-icon ${ broken ? 'amp-status-icon--broken' : '' }` }>\n\t\t\t<AMPLogoIcon />\n\t\t</div>\n\t);\n}\nStatusIcon.propTypes = {\n\tbroken: PropTypes.bool,\n};\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { BLOCK_VALIDATION_STORE_KEY } from '../../store';\n\n/**\n * Adds a style rule for all blocks with validation errors.\n */\nexport function InvalidBlockOutline() {\n\tconst validationErrors = useSelect( ( select ) => select( BLOCK_VALIDATION_STORE_KEY ).getUnreviewedValidationErrors(), [] );\n\n\tconst selectors = useMemo( () => {\n\t\tconst clientIds = validationErrors.map( ( { clientId } ) => clientId )\n\t\t\t.filter( ( clientId ) => clientId );\n\n\t\treturn clientIds.map( ( clientId ) => `#block-${ clientId }::before` );\n\t}, [ validationErrors ] );\n\n\treturn (\n\t\t<style>\n\t\t\t{\n\t\t\t\t`${ selectors.join( ',' ) } {\n\t\t\t\t\tborder-radius: 9px;\n\t\t\t\t\tbottom: -3px;\n\t\t\t\t\tbox-shadow: 0 0 0 2px #bb522e;\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tleft: -3px;\n\t\t\t\t\tpointer-events: none;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tright: -3px;\n\t\t\t\t\ttop: -3px;\n\t\t\t\t}`\n\t\t\t}\n\t\t</style>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport './style.css';\nimport { Loading } from '../../../components/loading';\n\n/**\n * Notification component used in the block editor sidebar.\n *\n * @param {Object}      props\n * @param {JSX.Element} props.action    Call to action element.\n * @param {JSX.Element} props.icon      Status icon element.\n * @param {boolean}     props.isLoading Flag indicating if it's a loading message.\n * @param {boolean}     props.isSmall   Flag indicating if the notification is small.\n * @param {string}      props.message   Message text.\n */\nexport function SidebarNotification( {\n\taction,\n\ticon,\n\tisLoading = false,\n\tisSmall = false,\n\tmessage,\n} ) {\n\tconst iconElement = isLoading ? <Loading /> : icon;\n\n\treturn (\n\t\t<div className={ classnames( 'sidebar-notification', {\n\t\t\t'is-loading': isLoading,\n\t\t\t'is-small': isSmall,\n\t\t} ) }>\n\t\t\t{ iconElement && (\n\t\t\t\t<div className=\"sidebar-notification__icon\">\n\t\t\t\t\t{ iconElement }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<div className=\"sidebar-notification__content\">\n\t\t\t\t<p>\n\t\t\t\t\t{ message }\n\t\t\t\t</p>\n\t\t\t\t{ action && (\n\t\t\t\t\t<div className=\"sidebar-notification__action\">\n\t\t\t\t\t\t{ action }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nSidebarNotification.propTypes = {\n\taction: PropTypes.node,\n\ticon: PropTypes.node,\n\tisLoading: PropTypes.bool,\n\tisSmall: PropTypes.bool,\n\tmessage: PropTypes.string.isRequired,\n};\n\n/**\n * Sidebar notifications container component.\n *\n * @param {Object}  props\n * @param {Object}  props.children Component children.\n * @param {boolean} props.isShady  Flag indicating if the component should have a background.\n */\nexport function SidebarNotificationsContainer( { children, isShady } ) {\n\treturn (\n\t\t<div className={ classnames( 'sidebar-notifications-container', { 'is-shady': isShady } ) }>\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\nSidebarNotificationsContainer.propTypes = {\n\tchildren: PropTypes.any,\n\tisShady: PropTypes.bool,\n};\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.css';\nimport AMPValidationStatus from '../amp-validation-status';\nimport { Error } from '../error';\nimport { BLOCK_VALIDATION_STORE_KEY } from '../../store';\n\n/**\n * Editor sidebar.\n */\nexport function Sidebar() {\n\tconst { setIsShowingReviewed } = useDispatch( BLOCK_VALIDATION_STORE_KEY );\n\n\tconst {\n\t\tdisplayedErrors,\n\t\thasReviewedValidationErrors,\n\t\tisShowingReviewed,\n\t} = useSelect( ( select ) => {\n\t\tconst _isShowingReviewed = select( BLOCK_VALIDATION_STORE_KEY ).getIsShowingReviewed();\n\n\t\treturn {\n\t\t\tdisplayedErrors: _isShowingReviewed\n\t\t\t\t? select( BLOCK_VALIDATION_STORE_KEY ).getValidationErrors()\n\t\t\t\t: select( BLOCK_VALIDATION_STORE_KEY ).getUnreviewedValidationErrors(),\n\t\t\thasReviewedValidationErrors: select( BLOCK_VALIDATION_STORE_KEY ).getReviewedValidationErrors()?.length > 0,\n\t\t\tisShowingReviewed: _isShowingReviewed,\n\t\t};\n\t}, [] );\n\n\t/**\n\t * Focus the first focusable element when the sidebar opens.\n\t */\n\tuseEffect( () => {\n\t\tconst element = document.querySelector( '.amp-sidebar a, .amp-sidebar button, .amp-sidebar input' );\n\t\tif ( element ) {\n\t\t\telement.focus();\n\t\t}\n\t}, [] );\n\n\treturn (\n\t\t<div className=\"amp-sidebar\">\n\t\t\t<AMPValidationStatus />\n\n\t\t\t{ 0 < displayedErrors.length && (\n\t\t\t\t<ul className=\"amp-sidebar__errors-list\">\n\t\t\t\t\t{ displayedErrors.map( ( validationError, index ) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t// Add `index` to key since not all errors have `clientId`.\n\t\t\t\t\t\t\tkey={ `${ validationError.clientId }${ index }` }\n\t\t\t\t\t\t\tclassName=\"amp-sidebar__errors-list-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Error { ...validationError } />\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) ) }\n\t\t\t\t</ul>\n\t\t\t) }\n\n\t\t\t{ hasReviewedValidationErrors && (\n\t\t\t\t<div className=\"amp-sidebar__options\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisLink\n\t\t\t\t\t\tonClick={ () => setIsShowingReviewed( ! isShowingReviewed ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ isShowingReviewed\n\t\t\t\t\t\t\t? __( 'Hide reviewed issues', 'amp' )\n\t\t\t\t\t\t\t: __( 'Show reviewed issues', 'amp' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { BlockControls } from '@wordpress/block-editor';\nimport { ToolbarButton } from '@wordpress/components';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { ToolbarIcon } from '../icon';\nimport { PLUGIN_NAME, SIDEBAR_NAME } from '../../plugins/amp-block-validation';\nimport { useAMPDocumentToggle } from '../../hooks/use-amp-document-toggle';\n\n/**\n * AMP button displaying in the block toolbar.\n *\n * @param {Object} props          Component props.\n * @param {string} props.clientId Block Client ID.\n * @param {number} props.count    The number of errors associated with the block.\n */\nexport function AMPToolbarButton( { clientId, count } ) {\n\tconst { openGeneralSidebar } = useDispatch( 'core/edit-post' );\n\n\tconst { isAMPEnabled } = useAMPDocumentToggle();\n\n\tif ( ! isAMPEnabled ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockControls>\n\t\t\t<ToolbarButton\n\t\t\t\tonClick={ () => {\n\t\t\t\t\topenGeneralSidebar( `${ PLUGIN_NAME }/${ SIDEBAR_NAME }` );\n\t\t\t\t\t// eslint-disable-next-line @wordpress/react-no-unsafe-timeout\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\tconst buttons = Array.from( document.querySelectorAll( `.error-${ clientId } button` ) );\n\t\t\t\t\t\tconst firstButton = buttons[ 0 ];\n\n\t\t\t\t\t\t// Ensure all errors are expanded.\n\t\t\t\t\t\t// @todo This would be more elegant if this state were captured in the store?\n\t\t\t\t\t\tbuttons.reverse(); // Reverse so that the first one is focused first.\n\t\t\t\t\t\tfor ( const button of buttons ) {\n\t\t\t\t\t\t\tif ( 'false' === button.getAttribute( 'aria-expanded' ) ) {\n\t\t\t\t\t\t\t\tbutton.click();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Make sure the first is scrolled into view.\n\t\t\t\t\t\tif ( firstButton ) {\n\t\t\t\t\t\t\tfirstButton.scrollIntoView( { block: 'start', inline: 'nearest', behavior: 'smooth' } );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<ToolbarIcon count={ count } />\n\t\t\t</ToolbarButton>\n\t\t</BlockControls>\n\t);\n}\nAMPToolbarButton.propTypes = {\n\tclientId: PropTypes.string.isRequired,\n\tcount: PropTypes.number.isRequired,\n};\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { BLOCK_VALIDATION_STORE_KEY } from '../../store';\nimport { AMPToolbarButton } from './amp-toolbar-button';\n\n/**\n * Adds the AMPToolbarButton to blocks that have one or more unreviewed validation errors.\n *\n * @param {Object}   props\n * @param {Function} props.BlockEdit Block edit function.\n * @param {string}   props.clientId  Client ID.\n */\nfunction BlockEditWithToolbar( props ) {\n\tconst { BlockEdit, clientId } = props;\n\n\tconst count = useSelect(\n\t\t( select ) => ( select( BLOCK_VALIDATION_STORE_KEY ).getUnreviewedValidationErrors() || [] )\n\t\t\t.filter( ( { clientId: validationErrorClientId } ) => clientId === validationErrorClientId )\n\t\t\t.length || 0,\n\t\t[ clientId ],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ 0 < count &&\n\t\t\t\t<AMPToolbarButton clientId={ clientId } count={ count } />\n\t\t\t}\n\t\t\t<BlockEdit { ...props } />\n\n\t\t</>\n\t);\n}\nBlockEditWithToolbar.propTypes = {\n\tBlockEdit: PropTypes.func.isRequired,\n\tclientId: PropTypes.string.isRequired,\n};\n\n/**\n * Filters the block edit function of all blocks.\n */\nexport const withAMPToolbarButton = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => <BlockEditWithToolbar { ...props } BlockEdit={ BlockEdit } />,\n\t'BlockEditWithAMPToolbar',\n);\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Custom hook providing an easy way to toggle AMP and check if it is enabled.\n */\nexport function useAMPDocumentToggle() {\n\tconst isAMPEnabled = useSelect(\n\t\t( select ) => select( 'core/editor' ).getEditedPostAttribute( 'amp_enabled' ) || false,\n\t\t[],\n\t);\n\tconst { editPost } = useDispatch( 'core/editor' );\n\tconst toggleAMP = () => editPost( { amp_enabled: ! isAMPEnabled } );\n\n\treturn {\n\t\tisAMPEnabled,\n\t\ttoggleAMP,\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { usePrevious } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { BLOCK_VALIDATION_STORE_KEY } from '../store';\n\n/**\n * Custom hook providing loading message when validation errors are fetched.\n */\nexport function useErrorsFetchingStateChanges() {\n\tconst [ didFetchErrors, setDidFetchErrors ] = useState( false );\n\tconst [ fetchingErrorsMessage, setFetchingErrorsMessage ] = useState( '' );\n\n\tconst {\n\t\tisEditedPostNew,\n\t\tisFetchingErrors,\n\t} = useSelect( ( select ) => ( {\n\t\tisEditedPostNew: select( 'core/editor' ).isEditedPostNew(),\n\t\tisFetchingErrors: select( BLOCK_VALIDATION_STORE_KEY ).getIsFetchingErrors(),\n\t} ), [] );\n\n\tconst wasEditedPostNew = usePrevious( isEditedPostNew );\n\tconst wasFetchingErrors = usePrevious( isFetchingErrors );\n\n\tuseEffect( () => {\n\t\tif ( didFetchErrors ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Set up the state right after errors fetching has finished.\n\t\tif ( ! isFetchingErrors && wasFetchingErrors ) {\n\t\t\tsetDidFetchErrors( true );\n\t\t}\n\t}, [ didFetchErrors, isFetchingErrors, wasFetchingErrors ] );\n\n\t/**\n\t * Display best-suited loading message depending if the post has been\n\t * already validated or not, or the editor has just been opened.\n\t */\n\tuseEffect( () => {\n\t\tif ( didFetchErrors ) {\n\t\t\tsetFetchingErrorsMessage( __( 'Re-validating content.', 'amp' ) );\n\t\t} else if ( isEditedPostNew || wasEditedPostNew ) {\n\t\t\tsetFetchingErrorsMessage( __( 'Validating content.', 'amp' ) );\n\t\t} else if ( isFetchingErrors ) {\n\t\t\tsetFetchingErrorsMessage( __( 'Loading', 'amp' ) );\n\t\t} else {\n\t\t\tsetFetchingErrorsMessage( '' );\n\t\t}\n\t}, [ didFetchErrors, isEditedPostNew, isFetchingErrors, wasEditedPostNew ] );\n\n\treturn {\n\t\tisFetchingErrors,\n\t\tfetchingErrorsMessage,\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { useDebounce } from '@wordpress/compose';\nimport { useCallback, useEffect, useRef, useState } from '@wordpress/element';\nimport { subscribe, useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { BLOCK_VALIDATION_STORE_KEY } from '../store';\n\nconst DELAY_MS = 500;\n\nexport function usePostDirtyStateChanges() {\n\tconst [ content, setContent ] = useState( null );\n\tconst [ updatedContent, setUpdatedContent ] = useState();\n\tconst subscription = useRef( null );\n\n\tconst {\n\t\tsetIsPostDirty,\n\t\tsetMaybeIsPostDirty,\n\t} = useDispatch( BLOCK_VALIDATION_STORE_KEY );\n\n\tconst {\n\t\tgetEditedPostContent,\n\t\thasErrorsFromRemovedBlocks,\n\t\thasActiveMetaboxes,\n\t\tisPostDirty,\n\t\tisSavingOrPreviewingPost,\n\t} = useSelect( ( select ) => ( {\n\t\tgetEditedPostContent: select( 'core/editor' ).getEditedPostContent,\n\t\thasErrorsFromRemovedBlocks: Boolean( select( BLOCK_VALIDATION_STORE_KEY ).getValidationErrors().find(\n\t\t\t( { clientId } ) => clientId && ! select( 'core/block-editor' ).getBlockName( clientId ) ),\n\t\t),\n\t\thasActiveMetaboxes: select( 'core/edit-post' ).hasMetaBoxes(),\n\t\tisPostDirty: select( BLOCK_VALIDATION_STORE_KEY ).getIsPostDirty(),\n\t\tisSavingOrPreviewingPost:\n\t\t\t( select( 'core/editor' ).isSavingPost() && ! select( 'core/editor' ).isAutosavingPost() ) ||\n\t\t\tselect( 'core/editor' ).isPreviewingPost(),\n\t} ), [] );\n\n\t/**\n\t * Remove subscription when component is unmounted.\n\t */\n\tuseEffect( () => () => {\n\t\tif ( subscription.current ) {\n\t\t\tsubscription.current();\n\t\t}\n\t}, [] );\n\n\t/**\n\t * Post is no longer in a dirty state after save.\n\t *\n\t * We're using a separate effect for resetting the flag since the listener\n\t * gets unsubscribed from the store changes whenever post gets into a dirty\n\t * state.\n\t */\n\tuseEffect( () => {\n\t\tif ( isPostDirty && isSavingOrPreviewingPost ) {\n\t\t\tsetIsPostDirty( false );\n\t\t\tsetContent( null );\n\t\t}\n\t}, [ isPostDirty, isSavingOrPreviewingPost, setIsPostDirty ] );\n\n\t/**\n\t * Whenever a fresh post content differs from the one that is stored in the\n\t * state, it's safe to assume that the post is in a dirty state.\n\t *\n\t * When the content is null, we're resetting both the `content` and the\n\t * `updatedContent`.\n\t */\n\tuseEffect( () => {\n\t\tif ( content === null ) {\n\t\t\tconst initialContent = getEditedPostContent();\n\n\t\t\tsetContent( initialContent );\n\t\t\tsetUpdatedContent( initialContent );\n\n\t\t\treturn;\n\t\t}\n\n\t\tif ( updatedContent !== content ) {\n\t\t\tsetIsPostDirty( true );\n\t\t}\n\t}, [ content, getEditedPostContent, setIsPostDirty, updatedContent ] );\n\n\t/**\n\t * Post may have changed.\n\t *\n\t * In some cases it's hard to tell if a post content has changed or not.\n\t * Examples are meta box content changes or presence of validation errors\n\t * which used to be in the content but are no longer found, potentially\n\t * due to switching from the visual editor to the code editor.\n\t */\n\tuseEffect( () => {\n\t\tsetMaybeIsPostDirty( ! isPostDirty && ( hasActiveMetaboxes || hasErrorsFromRemovedBlocks ) );\n\t}, [ hasActiveMetaboxes, hasErrorsFromRemovedBlocks, isPostDirty, setMaybeIsPostDirty ] );\n\n\t/**\n\t * Keep internal content state in sync with editor state.\n\t */\n\tconst listener = useCallback( () => {\n\t\tsetUpdatedContent( getEditedPostContent() );\n\t}, [ getEditedPostContent ] );\n\n\t/**\n\t * Debounce calls to the store listener for performance reasons.\n\t */\n\tconst debouncedListener = useDebounce( listener, DELAY_MS );\n\n\t/**\n\t * Only subscribe to the store changes if the post is not in a dirty state.\n\t */\n\tuseEffect( () => {\n\t\tif ( isPostDirty && subscription.current ) {\n\t\t\tsubscription.current();\n\t\t\tsubscription.current = null;\n\t\t} else if ( ! isSavingOrPreviewingPost && ! isPostDirty && ! subscription.current ) {\n\t\t\tsubscription.current = subscribe( debouncedListener );\n\t\t}\n\t}, [ debouncedListener, isPostDirty, isSavingOrPreviewingPost ] );\n}\n","/**\n * External dependencies\n */\nimport { isEqual } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { usePrevious } from '@wordpress/compose';\nimport { useEffect, useState } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport apiFetch from '@wordpress/api-fetch';\nimport { getQueryArg, isURL } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { BLOCK_VALIDATION_STORE_KEY } from '../store';\n\n/**\n * Attempts to associate a validation error with a block current in the editor.\n *\n * @param {Object}   args\n * @param {Object}   args.validationError Validation error object.\n * @param {Object}   args.source          A single validation error source.\n * @param {number}   args.currentPostId   The ID of the current post.\n * @param {string[]} args.blockOrder      Block client IDs in order.\n * @param {Function} args.getBlock        Store selector to get a block in the current editor by client ID.\n */\nexport function maybeAddClientIdToValidationError( { validationError, source, currentPostId, blockOrder, getBlock } ) {\n\tif ( ! source.block_name || undefined === source.block_content_index ) {\n\t\treturn;\n\t}\n\n\tif ( currentPostId !== source.post_id ) {\n\t\treturn;\n\t}\n\n\t// Look up the block ID by index, assuming the blocks of content in the editor are the same as blocks rendered on frontend.\n\tconst clientId = blockOrder[ source.block_content_index ];\n\tif ( ! clientId ) {\n\t\treturn;\n\t}\n\n\t// Sanity check that block exists for clientId.\n\tconst block = getBlock( clientId );\n\tif ( ! block ) {\n\t\treturn;\n\t}\n\n\t// Check the block type in case a block is dynamically added/removed via the_content filter to cause alignment error.\n\tif ( block.name !== source.block_name ) {\n\t\treturn;\n\t}\n\n\tvalidationError.clientId = clientId;\n}\n\n/**\n * Custom hook managing state updates through effect hooks.\n *\n * Handling state through a context provider might be preferable in other\n * circumstances, but in this case using a store is necessary because React\n * context is not passed down over slotfills, and we need multiple components\n * within multiple slotfills to have access to the same state.\n */\nexport function useValidationErrorStateUpdates() {\n\tconst [ blockOrderBeforeSave, setBlockOrderBeforeSave ] = useState( [] );\n\tconst [ hasRequestedPreview, setHasRequestedPreview ] = useState( false );\n\tconst [ previousValidationErrors, setPreviousValidationErrors ] = useState( [] );\n\tconst [ shouldValidate, setShouldValidate ] = useState( false );\n\n\tconst {\n\t\tsetIsFetchingErrors,\n\t\tsetFetchingErrorsRequestErrorMessage,\n\t\tsetReviewLink,\n\t\tsetSupportLink,\n\t\tsetValidationErrors,\n\t} = useDispatch( BLOCK_VALIDATION_STORE_KEY );\n\n\tconst {\n\t\tcurrentPostId,\n\t\tgetBlock,\n\t\tgetClientIdsWithDescendants,\n\t\tisAutosavingPost,\n\t\tisEditedPostNew,\n\t\tisPreviewingPost,\n\t\tisSavingPost,\n\t\tpreviewLink,\n\t\tvalidationErrors,\n\t} = useSelect( ( select ) => ( {\n\t\tcurrentPostId: select( 'core/editor' ).getCurrentPostId(),\n\t\tgetBlock: select( 'core/block-editor' ).getBlock,\n\t\tgetClientIdsWithDescendants: select( 'core/block-editor' ).getClientIdsWithDescendants,\n\t\tisAutosavingPost: select( 'core/editor' ).isAutosavingPost(),\n\t\tisEditedPostNew: select( 'core/editor' ).isEditedPostNew(),\n\t\tisPreviewingPost: select( 'core/editor' ).isPreviewingPost(),\n\t\tisSavingPost: select( 'core/editor' ).isSavingPost(),\n\t\tpreviewLink: select( 'core/editor' ).getEditedPostPreviewLink(),\n\t\tvalidationErrors: select( BLOCK_VALIDATION_STORE_KEY ).getValidationErrors(),\n\t} ), [] );\n\n\tconst wasEditedPostNew = usePrevious( isEditedPostNew );\n\n\t/**\n\t * Trigger validation whens editor loads only for existing posts.\n\t */\n\tuseEffect( () => {\n\t\tif ( ! isEditedPostNew && ! wasEditedPostNew ) {\n\t\t\tsetShouldValidate( true );\n\t\t}\n\t}, [ isEditedPostNew, wasEditedPostNew ] );\n\n\t/**\n\t * Set flags when a post is being saved.\n\t *\n\t * Validation should not be triggered on autosaves with an exception of an\n\t * autosave initiated by a post preview request (note that \"Re-validate now\"\n\t * button in the sidebar issues a post preview request).\n\t */\n\tuseEffect( () => {\n\t\tif ( ! isSavingPost ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isPreviewingPost ) {\n\t\t\tsetShouldValidate( true );\n\t\t\tsetHasRequestedPreview( true );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isAutosavingPost ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetShouldValidate( true );\n\t}, [ isAutosavingPost, isPreviewingPost, isSavingPost ] );\n\n\t/**\n\t * Fetches validation errors for the current post's URL after the editor has\n\t * loaded and following subsequent saves.\n\t */\n\tuseEffect( () => {\n\t\tif ( ! shouldValidate ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Indicate loading state as soon as post is started to be saved.\n\t\tif ( isSavingPost ) {\n\t\t\tsetIsFetchingErrors( true );\n\t\t\treturn;\n\t\t}\n\n\t\t// A preview link may not be available right after saving a post.\n\t\tif ( hasRequestedPreview && ! isURL( previewLink ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst data = {\n\t\t\tid: currentPostId,\n\t\t};\n\n\t\tif ( hasRequestedPreview ) {\n\t\t\tdata.preview_nonce = getQueryArg( previewLink, 'preview_nonce' );\n\t\t}\n\n\t\t// The initial render is not related to `isSavingPost` flag change.\n\t\t// Still, we're fetching the errors, so the `isFetchingErrors`\n\t\t// flag should be set.\n\t\tsetIsFetchingErrors( true );\n\t\tsetShouldValidate( false );\n\t\tsetHasRequestedPreview( false );\n\t\tsetFetchingErrorsRequestErrorMessage( '' );\n\t\tsetBlockOrderBeforeSave( getClientIdsWithDescendants() );\n\n\t\tapiFetch( {\n\t\t\tpath: '/amp/v1/validate-post-url/',\n\t\t\tmethod: 'POST',\n\t\t\tdata,\n\t\t} )\n\t\t\t.then( ( newValidation ) => {\n\t\t\t\tsetValidationErrors( newValidation.results );\n\t\t\t\tsetReviewLink( newValidation.review_link );\n\t\t\t\tsetSupportLink( newValidation.support_link );\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tsetFetchingErrorsRequestErrorMessage( error?.message || __( 'Whoops! Something went wrong.', 'amp' ) );\n\t\t\t} )\n\t\t\t.finally( () => {\n\t\t\t\tsetIsFetchingErrors( false );\n\t\t\t} );\n\t}, [ currentPostId, getClientIdsWithDescendants, hasRequestedPreview, isSavingPost, previewLink, setFetchingErrorsRequestErrorMessage, setIsFetchingErrors, setReviewLink, setSupportLink, setValidationErrors, shouldValidate ] );\n\n\t/**\n\t * Runs an equality check when validation errors are received before running\n\t * the heavier effect.\n\t */\n\tuseEffect( () => {\n\t\tif ( validationErrors && ! isEqual( previousValidationErrors, validationErrors ) ) {\n\t\t\tsetPreviousValidationErrors( validationErrors );\n\t\t}\n\t}, [ previousValidationErrors, validationErrors ] );\n\n\t/**\n\t * Adds clientIds to the validation errors that are associated with blocks.\n\t */\n\tuseEffect( () => {\n\t\tconst newValidationErrors = previousValidationErrors.map( ( validationError ) => {\n\t\t\tif ( ! validationError.error.sources?.length ) {\n\t\t\t\treturn validationError;\n\t\t\t}\n\n\t\t\tfor ( const source of validationError.error.sources ) {\n\t\t\t\t/**\n\t\t\t\t * The loop can finish if the validation error (which is passed\n\t\t\t\t * by reference below) has obtained a clientId.\n\t\t\t\t */\n\t\t\t\tif ( 'clientId' in validationError ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tmaybeAddClientIdToValidationError( {\n\t\t\t\t\tvalidationError,\n\t\t\t\t\tsource,\n\t\t\t\t\tgetBlock,\n\t\t\t\t\tblockOrder: 0 < blockOrderBeforeSave.length ? blockOrderBeforeSave : getClientIdsWithDescendants(), // blockOrderBeforeSave may be empty on initial load.\n\t\t\t\t\tcurrentPostId,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn validationError;\n\t\t} );\n\n\t\tsetValidationErrors( newValidationErrors );\n\t}, [ blockOrderBeforeSave, currentPostId, getBlock, getClientIdsWithDescendants, setValidationErrors, previousValidationErrors ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PluginSidebar, PluginSidebarMoreMenuItem } from '@wordpress/edit-post';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { BLOCK_VALIDATION_STORE_KEY } from '../store';\nimport { MoreMenuIcon, ToolbarIcon } from '../components/icon';\nimport { Sidebar } from '../components/sidebar';\nimport { InvalidBlockOutline } from '../components/invalid-block-outline';\nimport { usePostDirtyStateChanges } from '../hooks/use-post-dirty-state-changes';\nimport { useValidationErrorStateUpdates } from '../hooks/use-validation-error-state-updates';\nimport { useAMPDocumentToggle } from '../hooks/use-amp-document-toggle';\n\nexport const PLUGIN_NAME = 'amp-block-validation';\nexport const SIDEBAR_NAME = 'amp-editor-sidebar';\nexport const PLUGIN_TITLE = __( 'AMP Validation', 'amp' );\nexport const PLUGIN_ICON = MoreMenuIcon;\n\n/**\n * Provides a dedicated sidebar for the plugin, with toggle buttons in the editor toolbar and more menu.\n */\nexport default function AMPBlockValidation() {\n\tconst { broken, errorCount } = useSelect( ( select ) => ( {\n\t\tbroken: select( BLOCK_VALIDATION_STORE_KEY ).getAMPCompatibilityBroken(),\n\t\terrorCount: select( BLOCK_VALIDATION_STORE_KEY ).getUnreviewedValidationErrors()?.length || 0,\n\t} ), [] );\n\tconst { isAMPEnabled } = useAMPDocumentToggle();\n\n\tuseValidationErrorStateUpdates();\n\tusePostDirtyStateChanges();\n\n\tif ( ! isAMPEnabled ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PluginSidebarMoreMenuItem\n\t\t\t\ticon={ <PLUGIN_ICON /> }\n\t\t\t\ttarget={ SIDEBAR_NAME }\n\t\t\t>\n\t\t\t\t{ PLUGIN_TITLE }\n\t\t\t</PluginSidebarMoreMenuItem>\n\t\t\t<PluginSidebar\n\t\t\t\tclassName={ `${ PLUGIN_NAME }-sidebar` }\n\t\t\t\ticon={ (\n\t\t\t\t\t<ToolbarIcon count={ errorCount } broken={ broken } />\n\t\t\t\t) }\n\t\t\t\tname={ SIDEBAR_NAME }\n\t\t\t\ttitle={ PLUGIN_TITLE }\n\t\t\t>\n\n\t\t\t\t<Sidebar />\n\t\t\t\t<InvalidBlockOutline />\n\t\t\t</PluginSidebar>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PluginDocumentSettingPanel } from '@wordpress/edit-post';\n\n/**\n * Internal dependencies\n */\nimport AMPDocumentStatusNotification from '../components/amp-document-status';\n\nexport const PLUGIN_NAME = 'amp-block-validation-document-setting-panel';\nexport const PLUGIN_ICON = '';\n\n/**\n * AMP block validation document settings panel.\n */\nexport default function AMPDocumentSettingPanel() {\n\treturn (\n\t\t<PluginDocumentSettingPanel\n\t\t\tname={ PLUGIN_NAME }\n\t\t\ttitle={ __( 'AMP', 'amp' ) }\n\t\t\tinitialOpen={ true }\n\t\t>\n\t\t\t<AMPDocumentStatusNotification />\n\t\t</PluginDocumentSettingPanel>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PluginPrePublishPanel } from '@wordpress/edit-post';\n\n/**\n * Internal dependencies\n */\nimport AMPDocumentStatusNotification from '../components/amp-document-status';\n\nexport const PLUGIN_NAME = 'amp-block-validation-pre-publish-panel';\nexport const PLUGIN_ICON = '';\n\n/**\n * AMP block validation pre-publish panel.\n */\nexport default function AMPPrePublishPanel() {\n\treturn (\n\t\t<PluginPrePublishPanel\n\t\t\ttitle={ __( 'AMP', 'amp' ) }\n\t\t\tinitialOpen={ true }\n\t\t>\n\t\t\t<AMPDocumentStatusNotification />\n\t\t</PluginPrePublishPanel>\n\t);\n}\n","/**\n * External dependencies\n */\nimport {\n\tVALIDATION_ERROR_ACK_ACCEPTED_STATUS,\n\tVALIDATION_ERROR_ACK_REJECTED_STATUS,\n\tVALIDATION_ERROR_NEW_ACCEPTED_STATUS,\n\tVALIDATION_ERROR_NEW_REJECTED_STATUS,\n} from 'amp-block-validation';\n\n/**\n * WordPress dependencies\n */\nimport { registerStore } from '@wordpress/data';\n\nexport const BLOCK_VALIDATION_STORE_KEY = 'amp/block-validation';\n\nconst SET_FETCHING_ERRORS_REQUEST_ERROR_MESSAGE = 'SET_FETCHING_ERRORS_REQUEST_ERROR_MESSAGE';\nconst SET_IS_FETCHING_ERRORS = 'SET_IS_FETCHING_ERRORS';\nconst SET_IS_POST_DIRTY = 'SET_IS_POST_DIRTY';\nconst SET_IS_SHOWING_REVIEWED = 'SET_IS_SHOWING_REVIEWED';\nconst SET_MAYBE_IS_POST_DIRTY = 'SET_MAYBE_IS_POST_DIRTY';\nconst SET_REVIEW_LINK = 'SET_REVIEW_LINK';\nconst SET_SUPPORT_LINK = 'SET_SUPPORT_LINK';\nconst SET_VALIDATION_ERRORS = 'SET_VALIDATION_ERRORS';\n\nexport const INITIAL_STATE = {\n\tampCompatibilityBroken: false,\n\tfetchingErrorsRequestErrorMessage: '',\n\tisPostDirty: false,\n\tisFetchingErrors: false,\n\tisShowingReviewed: false,\n\tkeptMarkupValidationErrors: [],\n\tmaybeIsPostDirty: false,\n\trawValidationErrors: [],\n\treviewLink: null,\n\tsupportLink: null,\n\treviewedValidationErrors: [],\n\tunreviewedValidationErrors: [],\n\tvalidationErrors: [],\n};\n\nexport function getStore( initialState ) {\n\treturn {\n\t\treducer: ( state = initialState, action ) => {\n\t\t\tswitch ( action.type ) {\n\t\t\t\tcase SET_FETCHING_ERRORS_REQUEST_ERROR_MESSAGE:\n\t\t\t\t\treturn { ...state, fetchingErrorsRequestErrorMessage: action.fetchingErrorsRequestErrorMessage };\n\n\t\t\t\tcase SET_IS_FETCHING_ERRORS:\n\t\t\t\t\treturn { ...state, isFetchingErrors: action.isFetchingErrors };\n\n\t\t\t\tcase SET_IS_POST_DIRTY:\n\t\t\t\t\treturn { ...state, isPostDirty: action.isPostDirty };\n\n\t\t\t\tcase SET_IS_SHOWING_REVIEWED:\n\t\t\t\t\treturn { ...state, isShowingReviewed: action.isShowingReviewed };\n\n\t\t\t\tcase SET_MAYBE_IS_POST_DIRTY:\n\t\t\t\t\treturn { ...state, maybeIsPostDirty: action.maybeIsPostDirty };\n\n\t\t\t\tcase SET_REVIEW_LINK:\n\t\t\t\t\treturn { ...state, reviewLink: action.reviewLink };\n\n\t\t\t\tcase SET_SUPPORT_LINK:\n\t\t\t\t\treturn { ...state, supportLink: action.supportLink };\n\n\t\t\t\tcase SET_VALIDATION_ERRORS:\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...state,\n\t\t\t\t\t\tampCompatibilityBroken: Boolean(\n\t\t\t\t\t\t\taction.validationErrors.filter( ( { status } ) =>\n\t\t\t\t\t\t\t\tstatus === VALIDATION_ERROR_NEW_REJECTED_STATUS || status === VALIDATION_ERROR_ACK_REJECTED_STATUS,\n\t\t\t\t\t\t\t)?.length,\n\t\t\t\t\t\t),\n\n\t\t\t\t\t\treviewedValidationErrors: action.validationErrors\n\t\t\t\t\t\t\t.filter( ( { status } ) =>\n\t\t\t\t\t\t\t\tstatus === VALIDATION_ERROR_ACK_ACCEPTED_STATUS || status === VALIDATION_ERROR_ACK_REJECTED_STATUS,\n\t\t\t\t\t\t\t),\n\n\t\t\t\t\t\tunreviewedValidationErrors: action.validationErrors\n\t\t\t\t\t\t\t.filter( ( { status } ) =>\n\t\t\t\t\t\t\t\tstatus === VALIDATION_ERROR_NEW_ACCEPTED_STATUS || status === VALIDATION_ERROR_NEW_REJECTED_STATUS,\n\t\t\t\t\t\t\t),\n\n\t\t\t\t\t\tkeptMarkupValidationErrors: action.validationErrors\n\t\t\t\t\t\t\t.filter( ( { status } ) =>\n\t\t\t\t\t\t\t\tstatus === VALIDATION_ERROR_NEW_REJECTED_STATUS || status === VALIDATION_ERROR_ACK_REJECTED_STATUS,\n\t\t\t\t\t\t\t),\n\n\t\t\t\t\t\tvalidationErrors: action.validationErrors,\n\t\t\t\t\t};\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn state;\n\t\t\t}\n\t\t},\n\t\tactions: {\n\t\t\tsetFetchingErrorsRequestErrorMessage: ( fetchingErrorsRequestErrorMessage ) => ( {\n\t\t\t\ttype: SET_FETCHING_ERRORS_REQUEST_ERROR_MESSAGE,\n\t\t\t\tfetchingErrorsRequestErrorMessage,\n\t\t\t} ),\n\t\t\tsetIsFetchingErrors: ( isFetchingErrors ) => ( {\n\t\t\t\ttype: SET_IS_FETCHING_ERRORS,\n\t\t\t\tisFetchingErrors,\n\t\t\t} ),\n\t\t\tsetIsPostDirty: ( isPostDirty ) => ( {\n\t\t\t\ttype: SET_IS_POST_DIRTY,\n\t\t\t\tisPostDirty,\n\t\t\t} ),\n\t\t\tsetIsShowingReviewed: ( isShowingReviewed ) => ( {\n\t\t\t\ttype: SET_IS_SHOWING_REVIEWED,\n\t\t\t\tisShowingReviewed,\n\t\t\t} ),\n\t\t\tsetMaybeIsPostDirty: ( maybeIsPostDirty ) => ( {\n\t\t\t\ttype: SET_MAYBE_IS_POST_DIRTY,\n\t\t\t\tmaybeIsPostDirty,\n\t\t\t} ),\n\t\t\tsetReviewLink: ( reviewLink ) => ( {\n\t\t\t\ttype: SET_REVIEW_LINK,\n\t\t\t\treviewLink,\n\t\t\t} ),\n\t\t\tsetSupportLink: ( supportLink ) => ( {\n\t\t\t\ttype: SET_SUPPORT_LINK,\n\t\t\t\tsupportLink,\n\t\t\t} ),\n\t\t\tsetValidationErrors: ( validationErrors ) => ( {\n\t\t\t\ttype: SET_VALIDATION_ERRORS,\n\t\t\t\tvalidationErrors,\n\t\t\t} ),\n\t\t},\n\t\tselectors: {\n\t\t\tgetAMPCompatibilityBroken: ( { ampCompatibilityBroken } ) => ampCompatibilityBroken,\n\t\t\tgetFetchingErrorsRequestErrorMessage: ( { fetchingErrorsRequestErrorMessage } ) => fetchingErrorsRequestErrorMessage,\n\t\t\tgetIsFetchingErrors: ( { isFetchingErrors } ) => isFetchingErrors,\n\t\t\tgetIsPostDirty: ( { isPostDirty } ) => isPostDirty,\n\t\t\tgetIsShowingReviewed: ( { isShowingReviewed } ) => isShowingReviewed,\n\t\t\tgetMaybeIsPostDirty: ( { maybeIsPostDirty } ) => maybeIsPostDirty,\n\t\t\tgetReviewLink: ( { reviewLink } ) => reviewLink,\n\t\t\tgetSupportLink: ( { supportLink } ) => supportLink,\n\t\t\tgetReviewedValidationErrors: ( { reviewedValidationErrors } ) => reviewedValidationErrors,\n\t\t\tgetUnreviewedValidationErrors: ( { unreviewedValidationErrors } ) => unreviewedValidationErrors,\n\t\t\tgetKeptMarkupValidationErrors: ( { keptMarkupValidationErrors } ) => keptMarkupValidationErrors,\n\t\t\tgetValidationErrors: ( { validationErrors } ) => validationErrors,\n\t\t},\n\t\tinitialState,\n\t};\n}\n\n/**\n * Register the store for block validation.\n *\n * @param {Object} initialState Initial store state.\n */\nexport function createStore( initialState ) {\n\tregisterStore( BLOCK_VALIDATION_STORE_KEY, getStore( initialState ) );\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { Spinner } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport './style.css';\n\n/**\n * Loading indicator.\n *\n * @param {Object}  props        Component props.\n * @param {boolean} props.inline Display indicator as an inline element.\n */\n// @todo WIP: Updated design needed.\nexport function Loading( { inline = false } ) {\n\tconst Tag = inline ? 'span' : 'div';\n\n\treturn (\n\t\t<Tag className={ classnames( 'amp-spinner-container', {\n\t\t\t'amp-spinner-container--inline': inline,\n\t\t} ) }>\n\t\t\t<Spinner />\n\t\t</Tag>\n\t);\n}\n\nLoading.propTypes = {\n\tinline: PropTypes.bool,\n};\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","module.exports = ampBlockValidation;","module.exports = window[\"React\"];","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","module.exports = window[\"wp\"][\"url\"];","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { registerPlugin } from '@wordpress/plugins';\n\n/**\n * Internal dependencies\n */\nimport { INITIAL_STATE, createStore } from './store';\nimport { withAMPToolbarButton } from './components/with-amp-toolbar-button';\n\ncreateStore( INITIAL_STATE );\n\nconst plugins = require.context( './plugins', true, /.*\\.js$/ );\n\nplugins.keys().forEach( ( modulePath ) => {\n\tconst { default: render, PLUGIN_NAME, PLUGIN_ICON } = plugins( modulePath );\n\n\tregisterPlugin( PLUGIN_NAME, {\n\t\ticon: PLUGIN_ICON,\n\t\trender,\n\t} );\n} );\n\naddFilter( 'editor.BlockEdit', 'ampBlockValidation/filterEdit', withAMPToolbarButton, -99 );\n"],"names":["__","_n","sprintf","Button","PanelRow","useDispatch","useSelect","AMPValidationErrorsKeptIcon","BellIcon","BLOCK_VALIDATION_STORE_KEY","StatusIcon","SidebarNotification","useAMPDocumentToggle","useErrorsFetchingStateChanges","PLUGIN_NAME","SIDEBAR_NAME","AMPToggle","AMPDocumentStatusNotification","isAMPEnabled","isFetchingErrors","fetchingErrorsMessage","openGeneralSidebar","closePublishSidebar","isPostDirty","maybeIsPostDirty","keptMarkupValidationErrorCount","reviewedValidationErrorCount","unreviewedValidationErrorCount","select","getIsPostDirty","getMaybeIsPostDirty","getKeptMarkupValidationErrors","length","getReviewedValidationErrors","getUnreviewedValidationErrors","openBlockValidationSidebar","FormToggle","useRef","toggleAMP","htmlId","Math","random","toString","substr","current","SidebarNotificationsContainer","AMPRevalidateNotification","AMPValidationStatusNotification","AMPValidationStatus","autosave","savePost","isDraft","indexOf","getEditedPostAttribute","isPreview","ExternalLink","fetchingErrorsRequestErrorMessage","isEditedPostNew","reviewLink","supportLink","validationErrorCount","getFetchingErrorsRequestErrorMessage","getReviewLink","getSupportLink","getValidationErrors","sidebarNotificationAction","PropTypes","blockSources","VALIDATION_ERROR_ACK_ACCEPTED_STATUS","VALIDATION_ERROR_ACK_REJECTED_STATUS","VALIDATION_ERROR_NEW_ACCEPTED_STATUS","VALIDATION_ERROR_NEW_REJECTED_STATUS","BlockIcon","AMPAlert","AMPDelete","getErrorSourceTitle","ErrorSource","clientId","blockTypeName","sources","source","blockSource","type","title","propTypes","string","arrayOf","object","isRequired","MarkupStatus","status","keptRemoved","includes","reviewed","number","BlockType","blockTypeIcon","blockTypeTitle","ErrorContent","blockType","error","isExternal","removed","name","icon","shape","bool","oneOf","ErrorTypeIcon","ErrorPanelTitle","kept","replace","__html","CSS_ERROR_TYPE","HTML_ATTRIBUTE_ERROR_TYPE","HTML_ELEMENT_ERROR_TYPE","JS_ERROR_TYPE","HTMLErrorIcon","JSErrorIcon","CSSErrorIcon","pluginNames","themeName","themeSlug","getKeyedSources","keyedSources","theme","plugin","embed","core","blocks","push","output","uniquePluginNames","Set","map","muPluginNames","combinedPluginNames","filter","slug","pluginCount","size","muPluginCount","activeThemeSources","inactiveThemeSources","block_name","join","classnames","PanelBody","Error","term_id","termId","selectBlock","Boolean","blockName","getBlockName","getBlockType","detailsUrl","URL","hash","panelClassNames","href","AMPLogoIcon","AMPToolbarIcon","AMPToolbarIconBroken","IconSVG","hasBadge","BrokenIconSVG","ToolbarIcon","broken","count","MoreMenuIcon","useMemo","InvalidBlockOutline","validationErrors","selectors","clientIds","Loading","action","isLoading","isSmall","message","iconElement","node","children","isShady","any","useEffect","Sidebar","setIsShowingReviewed","displayedErrors","hasReviewedValidationErrors","isShowingReviewed","_isShowingReviewed","getIsShowingReviewed","element","document","querySelector","focus","validationError","index","BlockControls","ToolbarButton","AMPToolbarButton","setTimeout","buttons","Array","from","querySelectorAll","firstButton","reverse","button","getAttribute","click","scrollIntoView","block","inline","behavior","createHigherOrderComponent","BlockEditWithToolbar","props","BlockEdit","validationErrorClientId","func","withAMPToolbarButton","editPost","amp_enabled","useState","usePrevious","didFetchErrors","setDidFetchErrors","setFetchingErrorsMessage","getIsFetchingErrors","wasEditedPostNew","wasFetchingErrors","useDebounce","useCallback","subscribe","DELAY_MS","usePostDirtyStateChanges","content","setContent","updatedContent","setUpdatedContent","subscription","setIsPostDirty","setMaybeIsPostDirty","getEditedPostContent","hasErrorsFromRemovedBlocks","hasActiveMetaboxes","isSavingOrPreviewingPost","find","hasMetaBoxes","isSavingPost","isAutosavingPost","isPreviewingPost","initialContent","listener","debouncedListener","isEqual","apiFetch","getQueryArg","isURL","maybeAddClientIdToValidationError","currentPostId","blockOrder","getBlock","undefined","block_content_index","post_id","useValidationErrorStateUpdates","blockOrderBeforeSave","setBlockOrderBeforeSave","hasRequestedPreview","setHasRequestedPreview","previousValidationErrors","setPreviousValidationErrors","shouldValidate","setShouldValidate","setIsFetchingErrors","setFetchingErrorsRequestErrorMessage","setReviewLink","setSupportLink","setValidationErrors","getClientIdsWithDescendants","previewLink","getCurrentPostId","getEditedPostPreviewLink","data","id","preview_nonce","path","method","then","newValidation","results","review_link","support_link","catch","finally","newValidationErrors","PluginSidebar","PluginSidebarMoreMenuItem","PLUGIN_TITLE","PLUGIN_ICON","AMPBlockValidation","errorCount","getAMPCompatibilityBroken","PluginDocumentSettingPanel","AMPDocumentSettingPanel","PluginPrePublishPanel","AMPPrePublishPanel","registerStore","SET_FETCHING_ERRORS_REQUEST_ERROR_MESSAGE","SET_IS_FETCHING_ERRORS","SET_IS_POST_DIRTY","SET_IS_SHOWING_REVIEWED","SET_MAYBE_IS_POST_DIRTY","SET_REVIEW_LINK","SET_SUPPORT_LINK","SET_VALIDATION_ERRORS","INITIAL_STATE","ampCompatibilityBroken","keptMarkupValidationErrors","rawValidationErrors","reviewedValidationErrors","unreviewedValidationErrors","getStore","initialState","reducer","state","actions","createStore","Spinner","Tag","addFilter","registerPlugin","plugins","require","context","keys","forEach","modulePath","default","render"],"sourceRoot":""}