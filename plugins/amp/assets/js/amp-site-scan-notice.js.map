{"version":3,"file":"amp-site-scan-notice.js","mappings":"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,kCAAkC;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,IAAI,IAAqC;AACzC,6BAA6B,mBAAO,CAAC,yFAA4B;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,WAAW;AACtB;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6GAA6G;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;;AAEA;;;;;;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,kDAAU;AAChC,aAAa,mBAAO,CAAC,4DAAe;;AAEpC,2BAA2B,mBAAO,CAAC,yFAA4B;AAC/D,qBAAqB,mBAAO,CAAC,qEAAkB;;AAE/C;AACA;;AAEA,IAAI,IAAqC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,8BAA8B;AAC9B,QAAQ;AACR;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,SAAS,KAAqC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,IAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,KAAqC,4FAA4F,CAAM;AAC7I;AACA;;AAEA,oBAAoB,gCAAgC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,gCAAgC;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;AC9kBA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,IAAqC;AACzC,gBAAgB,mBAAO,CAAC,kDAAU;;AAElC;AACA;AACA;AACA,mBAAmB,mBAAO,CAAC,uFAA2B;AACtD,EAAE,KAAK,EAIN;;;;;;;;;;;;AClBD;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;;;AAIb,IAAI,IAAqC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E;AAC3E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;;AAEjD;AACA;AACA;AACA,kDAAkD;;AAElD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB,sBAAsB;AACtB,uBAAuB;AACvB,uBAAuB;AACvB,eAAe;AACf,kBAAkB;AAClB,gBAAgB;AAChB,YAAY;AACZ,YAAY;AACZ,cAAc;AACd,gBAAgB;AAChB,kBAAkB;AAClB,gBAAgB;AAChB,mBAAmB;AACnB,wBAAwB;AACxB,yBAAyB;AACzB,yBAAyB;AACzB,iBAAiB;AACjB,oBAAoB;AACpB,kBAAkB;AAClB,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,kBAAkB;AAClB,oBAAoB;AACpB,kBAAkB;AAClB,0BAA0B;AAC1B,cAAc;AACd,GAAG;AACH;;;;;;;;;;;;ACpLa;;AAEb,IAAI,KAAqC,EAAE,EAE1C,CAAC;AACF,EAAE,gIAAyD;AAC3D;;;;;;;;;;;;ACNA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;;AAEA;AACA;;;;;;;;;;;;;;;ACbe;AACf;AACA,oBAAoB,sBAAsB;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;UChBA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;CAM+B;;AAE/B;AACA;AACA;;AACA;AACA;AACA;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIM,YAAJ;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,SAAT,OAAmC;AAAA,MAAf;AAAErO,IAAAA;AAAF,GAAe;AAClCP,EAAAA,qBAAM,CAAC6O,mBAAP,CAA4B,OAA5B,EAAqCF,YAArC;AAEA,SACC,kEAAC,oFAAD,QACC,kEAAC,sEAAD;AACC,SAAK,EAAG1S,mDAAE,CAAE,gDAAF,EAAoD,KAApD;AADX,KAGC,kEAAC,wFAAD;AACC,oBAAgB,EAAG,IADpB;AAEC,mBAAe,EAAGsS,mEAFnB;AAGC,yBAAqB,EAAG;AAHzB,KAKC,kEAAC,wFAAD,QACC,kEAAC,2FAAD;AACC,yBAAqB,EAAGC,0EADzB;AAEC,iBAAa,EAAGC,gEAAcA;AAF/B,KAIGlO,QAJH,CADD,CALD,CAHD,CADD,CADD;AAsBA;;AACDqO,SAAS,CAACzP,SAAV,GAAsB;AACrBoB,EAAAA,QAAQ,EAAExC,uDAAa6C;AADF,CAAtB;AAIA8N,2DAAQ,CAAE,MAAM;AACf,QAAMI,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAyBV,6DAAzB,CAAb;;AAEA,MAAK,CAAEQ,IAAP,EAAc;AACb;AACA;;AAEDH,EAAAA,YAAY,GAAK5M,KAAF,IAAa;AAC3B;AACA,QAAKA,KAAK,CAACkN,QAAN,IAAkB,mCAAmCC,IAAnC,CAAyCnN,KAAK,CAACkN,QAA/C,CAAvB,EAAmF;AAClFlM,MAAAA,0DAAM,CAAE,kEAAC,kEAAD;AAAa,aAAK,EAAGhB,KAAK,CAACU;AAA3B,QAAF,EAAyCqM,IAAzC,CAAN;AACA;AACD,GALD;;AAOA9O,EAAAA,qBAAM,CAACmP,gBAAP,CAAyB,OAAzB,EAAkCR,YAAlC;AAEA5L,EAAAA,0DAAM,CACL,kEAAC,SAAD,QACC,kEAAC,oDAAD,OADD,CADK,EAIL+L,IAJK,CAAN;AAMA,CAtBO,CAAR,C","sources":["webpack://amp-wp/./assets/src/admin/site-scan-notice/notice.js","webpack://amp-wp/./assets/src/admin/site-scan-notice/plugins-with-amp-incompatibility.js","webpack://amp-wp/./assets/src/common/constants.js","webpack://amp-wp/./assets/src/common/helpers/get-plugin-slug-from-file.js","webpack://amp-wp/./assets/src/common/helpers/is-external-url.js","webpack://amp-wp/./assets/src/components/amp-admin-notice/index.js","webpack://amp-wp/./assets/src/components/clipboard-button/index.js","webpack://amp-wp/./assets/src/components/error-boundary/index.js","webpack://amp-wp/./assets/src/components/error-context-provider/index.js","webpack://amp-wp/./assets/src/components/error-screen/index.js","webpack://amp-wp/./assets/src/components/loading/index.js","webpack://amp-wp/./assets/src/components/options-context-provider/index.js","webpack://amp-wp/./assets/src/components/plugins-context-provider/index.js","webpack://amp-wp/./assets/src/components/site-scan-context-provider/get-sources-from-scannable-urls.js","webpack://amp-wp/./assets/src/components/site-scan-context-provider/index.js","webpack://amp-wp/./assets/src/utils/use-async-error.js","webpack://amp-wp/./node_modules/classnames/index.js","webpack://amp-wp/./assets/src/components/error-screen/style.css?a74f","webpack://amp-wp/./assets/src/components/loading/style.css?8f46","webpack://amp-wp/./assets/src/admin/site-scan-notice/style.scss?355b","webpack://amp-wp/./assets/src/components/amp-admin-notice/style.scss?a9ef","webpack://amp-wp/./node_modules/object-assign/index.js","webpack://amp-wp/./node_modules/prop-types/checkPropTypes.js","webpack://amp-wp/./node_modules/prop-types/factoryWithTypeCheckers.js","webpack://amp-wp/./node_modules/prop-types/index.js","webpack://amp-wp/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://amp-wp/./node_modules/react-is/cjs/react-is.development.js","webpack://amp-wp/./node_modules/react-is/index.js","webpack://amp-wp/external var \"ampSiteScanNotice\"","webpack://amp-wp/external window [\"wp\",\"apiFetch\"]","webpack://amp-wp/external window [\"wp\",\"components\"]","webpack://amp-wp/external window [\"wp\",\"compose\"]","webpack://amp-wp/external window [\"wp\",\"domReady\"]","webpack://amp-wp/external window [\"wp\",\"element\"]","webpack://amp-wp/external window [\"wp\",\"i18n\"]","webpack://amp-wp/external window [\"wp\",\"url\"]","webpack://amp-wp/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://amp-wp/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://amp-wp/webpack/bootstrap","webpack://amp-wp/webpack/runtime/compat get default export","webpack://amp-wp/webpack/runtime/define property getters","webpack://amp-wp/webpack/runtime/global","webpack://amp-wp/webpack/runtime/hasOwnProperty shorthand","webpack://amp-wp/webpack/runtime/make namespace object","webpack://amp-wp/./assets/src/admin/site-scan-notice/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tAMP_COMPATIBLE_PLUGINS_URL,\n\tSETTINGS_LINK,\n} from 'amp-site-scan-notice'; // From WP inline script.\n\n/**\n * WordPress dependencies\n */\nimport { useContext, useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { SiteScan } from '../../components/site-scan-context-provider';\nimport {\n\tAMP_ADMIN_NOTICE_TYPE_ERROR,\n\tAMP_ADMIN_NOTICE_TYPE_INFO,\n\tAMP_ADMIN_NOTICE_TYPE_SUCCESS,\n\tAMP_ADMIN_NOTICE_TYPE_WARNING,\n\tAmpAdminNotice,\n} from '../../components/amp-admin-notice';\nimport { Loading } from '../../components/loading';\nimport { isExternalUrl } from '../../common/helpers/is-external-url';\nimport { PluginsWithAmpIncompatibility } from './plugins-with-amp-incompatibility';\n\n// Define Plugin Suppression link.\nconst PLUGIN_SUPPRESSION_LINK = new URL( SETTINGS_LINK );\nPLUGIN_SUPPRESSION_LINK.hash = 'plugin-suppression';\n\nexport function SiteScanNotice() {\n\tconst {\n\t\tcancelSiteScan,\n\t\tfetchScannableUrls,\n\t\tisCancelled,\n\t\tisCompleted,\n\t\tisFailed,\n\t\tisInitializing,\n\t\tisReady,\n\t\tpluginsWithAmpIncompatibility,\n\t\tstartSiteScan,\n\t} = useContext( SiteScan );\n\n\t// Cancel scan on component unmount.\n\tuseEffect( () => cancelSiteScan, [ cancelSiteScan ] );\n\n\t// Fetch scannable URLs on mount. Start site scan right after the component is mounted and the scanner is ready.\n\tuseEffect( () => {\n\t\tif ( isInitializing ) {\n\t\t\tfetchScannableUrls();\n\t\t} else if ( isReady ) {\n\t\t\tstartSiteScan();\n\t\t}\n\t}, [ fetchScannableUrls, isInitializing, isReady, startSiteScan ] );\n\n\tconst commonNoticeProps = {\n\t\tclassName: 'amp-site-scan-notice',\n\t\tisDismissible: true,\n\t\tonDismiss: cancelSiteScan,\n\t};\n\n\tif ( isFailed || isCancelled ) {\n\t\treturn (\n\t\t\t<AmpAdminNotice type={ AMP_ADMIN_NOTICE_TYPE_ERROR } { ...commonNoticeProps }>\n\t\t\t\t<p>\n\t\t\t\t\t{ __( 'AMP could not check your site for compatibility issues.', 'amp' ) }\n\t\t\t\t</p>\n\t\t\t</AmpAdminNotice>\n\t\t);\n\t}\n\n\tif ( isCompleted && pluginsWithAmpIncompatibility.length === 0 ) {\n\t\treturn (\n\t\t\t<AmpAdminNotice type={ AMP_ADMIN_NOTICE_TYPE_SUCCESS } { ...commonNoticeProps }>\n\t\t\t\t<p>\n\t\t\t\t\t{ __( 'No AMP compatibility issues detected.', 'amp' ) }\n\t\t\t\t</p>\n\t\t\t</AmpAdminNotice>\n\t\t);\n\t}\n\n\tif ( isCompleted && pluginsWithAmpIncompatibility.length > 0 ) {\n\t\treturn (\n\t\t\t<AmpAdminNotice type={ AMP_ADMIN_NOTICE_TYPE_WARNING } { ...commonNoticeProps }>\n\t\t\t\t<PluginsWithAmpIncompatibility pluginsWithAmpIncompatibility={ pluginsWithAmpIncompatibility } />\n\t\t\t\t<div className=\"amp-site-scan-notice__cta\">\n\t\t\t\t\t<a href={ PLUGIN_SUPPRESSION_LINK } className=\"button\">\n\t\t\t\t\t\t{ __( 'Review Plugin Suppression', 'amp' ) }\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={ AMP_COMPATIBLE_PLUGINS_URL }\n\t\t\t\t\t\tclassName=\"button\"\n\t\t\t\t\t\t{ ...isExternalUrl( AMP_COMPATIBLE_PLUGINS_URL ) ? { target: '_blank', rel: 'noopener noreferrer' } : {} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'View AMP-Compatible Plugins', 'amp' ) }\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</AmpAdminNotice>\n\t\t);\n\t}\n\n\treturn (\n\t\t<AmpAdminNotice type={ AMP_ADMIN_NOTICE_TYPE_INFO } { ...commonNoticeProps }>\n\t\t\t<p>\n\t\t\t\t{ __( 'Checking your site for AMP compatibility issuesâ€¦', 'amp' ) }\n\t\t\t\t<Loading inline={ true } />\n\t\t\t</p>\n\t\t</AmpAdminNotice>\n\t);\n}\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\nimport { _n, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { Plugins } from '../../components/plugins-context-provider';\nimport { getPluginSlugFromFile } from '../../common/helpers/get-plugin-slug-from-file';\n\n/**\n * Render a DETAILS element for each plugin causing AMP incompatibilities.\n *\n * @param {Object} props                               Component props.\n * @param {Array}  props.pluginsWithAmpIncompatibility Array of plugins with AMP incompatibilities.\n */\nexport function PluginsWithAmpIncompatibility( { pluginsWithAmpIncompatibility } ) {\n\tconst { fetchingPlugins, plugins } = useContext( Plugins );\n\n\tif ( fetchingPlugins ) {\n\t\treturn null;\n\t}\n\n\tconst pluginNames = Object.values( plugins ).reduce( ( accumulatedPluginNames, plugin ) => {\n\t\treturn {\n\t\t\t...accumulatedPluginNames,\n\t\t\t[ getPluginSlugFromFile( plugin.plugin ) ]: plugin.name,\n\t\t};\n\t}, {} );\n\n\treturn (\n\t\t<>\n\t\t\t<p>\n\t\t\t\t{ _n(\n\t\t\t\t\t'AMP compatibility issues discovered with the following plugin:',\n\t\t\t\t\t'AMP compatibility issues discovered with the following plugins:',\n\t\t\t\t\tpluginsWithAmpIncompatibility.length,\n\t\t\t\t\t'amp',\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t{ pluginsWithAmpIncompatibility.map( ( pluginWithAmpIncompatibility ) => (\n\t\t\t\t<details\n\t\t\t\t\tkey={ pluginWithAmpIncompatibility.slug }\n\t\t\t\t\tclassName=\"amp-site-scan-notice__plugin-details\"\n\t\t\t\t>\n\t\t\t\t\t<summary\n\t\t\t\t\t\tclassName=\"amp-site-scan-notice__plugin-summary\"\n\t\t\t\t\t\tdangerouslySetInnerHTML={ {\n\t\t\t\t\t\t\t__html: sprintf(\n\t\t\t\t\t\t\t\t/* translators: 1: plugin name; 2: number of URLs with AMP validation issues. */\n\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t'<b>%1$s</b> on %2$d URL',\n\t\t\t\t\t\t\t\t\t'<b>%1$s</b> on %2$d URLs',\n\t\t\t\t\t\t\t\t\tpluginWithAmpIncompatibility.urls.length,\n\t\t\t\t\t\t\t\t\t'amp',\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tpluginNames[ pluginWithAmpIncompatibility.slug ],\n\t\t\t\t\t\t\t\tpluginWithAmpIncompatibility.urls.length,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<ul className=\"amp-site-scan-notice__urls-list\">\n\t\t\t\t\t\t{ pluginWithAmpIncompatibility.urls.map( ( url ) => (\n\t\t\t\t\t\t\t<li key={ url }>\n\t\t\t\t\t\t\t\t<a href={ url } target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t\t{ url }\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</ul>\n\t\t\t\t</details>\n\t\t\t) ) }\n\t\t</>\n\t);\n}\n\nPluginsWithAmpIncompatibility.propTypes = {\n\tpluginsWithAmpIncompatibility: PropTypes.arrayOf(\n\t\tPropTypes.shape( {\n\t\t\tslug: PropTypes.string,\n\t\t\turls: PropTypes.arrayOf( PropTypes.string ),\n\t\t} ),\n\t),\n};\n","// See https://github.com/ampproject/amphtml/blob/e7a1b3ff97645ec0ec482192205134bd0735943c/extensions/amp-fit-text/0.1/amp-fit-text.js#L81-L85\nexport const MIN_FONT_SIZE = 6;\nexport const MAX_FONT_SIZE = 72;\nexport const FILE_TYPE_ERROR_VIEW = 'select-file-type-error';\n\nexport const READER = 'reader';\nexport const STANDARD = 'standard';\nexport const TRANSITIONAL = 'transitional';\nexport const DEFAULT_MOBILE_BREAKPOINT = 783;\n","/**\n * Get plugin slug from file path.\n *\n * If the plugin file is in a directory, then the slug is just the directory name. Otherwise, if the file is not\n * inside of a directory and is just a single-file plugin, then the slug is the filename of the PHP file.\n *\n * If the file path contains a file extension, it will be stripped as well.\n *\n * See the corresponding PHP logic in `\\AmpProject\\AmpWP\\get_plugin_slug_from_file()`.\n *\n * @param {string} path Plugin file path.\n * @return {string} Plugin slug.\n */\nexport function getPluginSlugFromFile( path = '' ) {\n\treturn path.replace( /\\/.*$/, '' ).replace( /\\.php$/, '' );\n}\n","/**\n * Check if the provided URL is external.\n *\n * @param {string} url URL to be checked.\n * @return {boolean} True if the URL is external, false otherwise.\n */\nexport const isExternalUrl = ( url ) => global?.location?.host !== new URL( url ).host;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { VisuallyHidden } from '@wordpress/components';\nimport { useCallback, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport const AMP_ADMIN_NOTICE_TYPE_INFO = 'info';\nexport const AMP_ADMIN_NOTICE_TYPE_SUCCESS = 'success';\nexport const AMP_ADMIN_NOTICE_TYPE_WARNING = 'warning';\nexport const AMP_ADMIN_NOTICE_TYPE_ERROR = 'error';\n\n/**\n * WordPress admin notice.\n *\n * @param {Object}   props               Component props.\n * @param {Element}  props.children      Component children.\n * @param {string}   props.className     Additional class names.\n * @param {boolean}  props.isDismissible Indicates whether the notice should be dismissible.\n * @param {Function} props.onDismiss     Function to be called whenever the notice gets dismissed.\n * @param {string}   props.type          Specifies type of the notice.\n */\nexport function AmpAdminNotice( {\n\tchildren,\n\tclassName,\n\tisDismissible = false,\n\tonDismiss,\n\ttype = AMP_ADMIN_NOTICE_TYPE_INFO,\n} ) {\n\tconst [ dismissed, setDismissed ] = useState( false );\n\n\tconst dismissHandler = useCallback( () => {\n\t\tsetDismissed( true );\n\n\t\tif ( typeof onDismiss === 'function' ) {\n\t\t\tonDismiss();\n\t\t}\n\t}, [ onDismiss ] );\n\n\tif ( isDismissible && dismissed ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ classnames( 'amp-admin-notice', className, {\n\t\t\t\t'amp-admin-notice--dismissible': isDismissible,\n\t\t\t\t'amp-admin-notice--info': type === AMP_ADMIN_NOTICE_TYPE_INFO,\n\t\t\t\t'amp-admin-notice--success': type === AMP_ADMIN_NOTICE_TYPE_SUCCESS,\n\t\t\t\t'amp-admin-notice--warning': type === AMP_ADMIN_NOTICE_TYPE_WARNING,\n\t\t\t\t'amp-admin-notice--error': type === AMP_ADMIN_NOTICE_TYPE_ERROR,\n\t\t\t} ) }\n\t\t>\n\t\t\t{ children }\n\t\t\t{ isDismissible && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={ dismissHandler }\n\t\t\t\t\tclassName=\"amp-admin-notice__dismiss\"\n\t\t\t\t>\n\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t{ __( 'Dismiss', 'amp' ) }\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t</button>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nAmpAdminNotice.propTypes = {\n\tchildren: PropTypes.any,\n\tclassName: PropTypes.string,\n\tisDismissible: PropTypes.bool,\n\tonDismiss: PropTypes.func,\n\ttype: PropTypes.oneOf( [\n\t\tAMP_ADMIN_NOTICE_TYPE_INFO,\n\t\tAMP_ADMIN_NOTICE_TYPE_SUCCESS,\n\t\tAMP_ADMIN_NOTICE_TYPE_WARNING,\n\t\tAMP_ADMIN_NOTICE_TYPE_ERROR,\n\t] ),\n};\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { Button } from '@wordpress/components';\n\nconst TIMEOUT = 4000;\n\n// Adapted from @wordpress/components: <https://github.com/WordPress/gutenberg/blob/3c00d85b12ee45365e3ab329301a07312d99ffdf/packages/components/src/clipboard-button/index.js#L18-L69>.\nexport default function ClipboardButton( {\n\tchildren,\n\tonCopy,\n\tonFinishCopy,\n\ttext,\n\t...buttonProps\n} ) {\n\tconst timeoutId = useRef();\n\tconst ref = useCopyToClipboard( text, () => {\n\t\tif ( onCopy ) {\n\t\t\tonCopy();\n\t\t}\n\n\t\tclearTimeout( timeoutId.current );\n\n\t\tif ( onFinishCopy ) {\n\t\t\ttimeoutId.current = setTimeout( () => onFinishCopy(), TIMEOUT );\n\t\t}\n\t} );\n\n\tuseEffect( () => {\n\t\tclearTimeout( timeoutId.current );\n\t}, [] );\n\n\t// Workaround for inconsistent behavior in Safari, where <textarea> is not\n\t// the document.activeElement at the moment when the copy event fires.\n\t// This causes documentHasSelection() in the copy-handler component to\n\t// mistakenly override the ClipboardButton, and copy a serialized string\n\t// of the current block instead.\n\tconst focusOnCopyEventTarget = ( event ) => {\n\t\tevent.target.focus();\n\t};\n\n\treturn (\n\t\t<Button\n\t\t\t{ ...buttonProps }\n\t\t\tclassName=\"components-clipboard-button\"\n\t\t\tref={ ref }\n\t\t\tonCopy={ focusOnCopyEventTarget }\n\t\t>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nClipboardButton.propTypes = {\n\tchildren: PropTypes.any,\n\tonCopy: PropTypes.func,\n\tonFinishCopy: PropTypes.func,\n\ttext: PropTypes.string.isRequired,\n};\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { ErrorScreen } from '../error-screen';\n\n/**\n * Catches errors in the application and displays a fallback screen.\n *\n * @see https://reactjs.org/docs/error-boundaries.html\n */\nexport class ErrorBoundary extends Component {\n\tstatic propTypes = {\n\t\tchildren: PropTypes.any,\n\t\texitLinkLabel: PropTypes.string,\n\t\texitLinkUrl: PropTypes.string,\n\t\ttitle: PropTypes.string,\n\t}\n\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.timeout = null;\n\t\tthis.state = { error: null };\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.mounted = true;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.mounted = false;\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tthis.setState( { error } );\n\t}\n\n\trender() {\n\t\tconst { error } = this.state;\n\t\tconst { children, exitLinkLabel, exitLinkUrl, title } = this.props;\n\n\t\tif ( error ) {\n\t\t\treturn (\n\t\t\t\t<ErrorScreen\n\t\t\t\t\terror={ error }\n\t\t\t\t\tfinishLinkLabel={ exitLinkLabel }\n\t\t\t\t\tfinishLinkUrl={ exitLinkUrl }\n\t\t\t\t\ttitle={ title }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn children;\n\t}\n}\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { createContext, useState } from '@wordpress/element';\n\nexport const ErrorContext = createContext();\n\n/**\n * Error context provider.\n *\n * @param {Object} props          Component props.\n * @param {any}    props.children Component children.\n */\nexport function ErrorContextProvider( { children } ) {\n\tconst [ error, setError ] = useState( null );\n\n\treturn (\n\t\t<ErrorContext.Provider value={ { error, setError } }>\n\t\t\t{ children }\n\t\t</ErrorContext.Provider>\n\t);\n}\n\nErrorContextProvider.propTypes = {\n\tchildren: PropTypes.any,\n};\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Panel } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport ClipboardButton from '../clipboard-button';\nimport './style.css';\n\n/**\n * Screen that shows when an error has broken the application.\n *\n * @param {Object} props                 Component props.\n * @param {Object} props.error           Error object containing a message string.\n * @param {string} props.finishLinkLabel Label of a link to return to the admin.\n * @param {string} props.finishLinkUrl   Url of a link to return to the admin.\n * @param {string} props.title           Custom message title.\n */\nexport function ErrorScreen( { error, finishLinkLabel, finishLinkUrl, title } ) {\n\tconst [ hasCopied, setHasCopied ] = useState( false );\n\tconst { message, stack } = error;\n\n\treturn (\n\t\t<div className=\"error-screen-container\">\n\t\t\t<Panel className=\"error-screen\">\n\t\t\t\t<h1>\n\t\t\t\t\t{ title || __( 'Something went wrong.', 'amp' ) }\n\t\t\t\t</h1>\n\n\t\t\t\t{ /* dangerouslySetInnerHTML reason: WordPress sometimes sends back HTML in error messages. */ }\n\t\t\t\t<p dangerouslySetInnerHTML={ {\n\t\t\t\t\t__html: message || __( 'There was an error loading the page.', 'amp' ),\n\t\t\t\t} } />\n\n\t\t\t\t{ /* dangerouslySetInnerHTML reason: The message contains a link to the AMP support forum. */ }\n\t\t\t\t<p dangerouslySetInnerHTML={ {\n\t\t\t\t\t__html: sprintf(\n\t\t\t\t\t\t// translators: %s is the AMP support forum URL.\n\t\t\t\t\t\t__( 'Please submit details to our <a href=\"%s\" target=\"_blank\" rel=\"noreferrer noopener\">support forum</a>.', 'amp' ),\n\t\t\t\t\t\t__( 'https://wordpress.org/support/plugin/amp/', 'amp' ),\n\t\t\t\t\t),\n\t\t\t\t} } />\n\n\t\t\t\t{ stack && (\n\t\t\t\t\t<details>\n\t\t\t\t\t\t<summary>\n\t\t\t\t\t\t\t{ __( 'Details', 'amp' ) }\n\t\t\t\t\t\t</summary>\n\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t{ stack }\n\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t<ClipboardButton\n\t\t\t\t\t\t\tisSmall={ true }\n\t\t\t\t\t\t\tisSecondary={ true }\n\t\t\t\t\t\t\ttext={ JSON.stringify( { message, stack }, null, 2 ) }\n\t\t\t\t\t\t\tonCopy={ () => setHasCopied( true ) }\n\t\t\t\t\t\t\tonFinishCopy={ () => setHasCopied( false ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ hasCopied ? __( 'Copied!', 'amp' ) : __( 'Copy Error', 'amp' ) }\n\t\t\t\t\t\t</ClipboardButton>\n\t\t\t\t\t</details>\n\t\t\t\t) }\n\n\t\t\t\t{ finishLinkUrl && finishLinkLabel && (\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<a href={ finishLinkUrl }>\n\t\t\t\t\t\t\t{ finishLinkLabel }\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</Panel>\n\t\t</div>\n\t);\n}\n\nErrorScreen.propTypes = {\n\terror: PropTypes.shape( {\n\t\tmessage: PropTypes.string,\n\t\tstack: PropTypes.string,\n\t} ).isRequired,\n\tfinishLinkLabel: PropTypes.string,\n\tfinishLinkUrl: PropTypes.string,\n\ttitle: PropTypes.string,\n};\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { Spinner } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport './style.css';\n\n/**\n * Loading indicator.\n *\n * @param {Object}  props        Component props.\n * @param {boolean} props.inline Display indicator as an inline element.\n */\n// @todo WIP: Updated design needed.\nexport function Loading( { inline = false } ) {\n\tconst Tag = inline ? 'span' : 'div';\n\n\treturn (\n\t\t<Tag className={ classnames( 'amp-spinner-container', {\n\t\t\t'amp-spinner-container--inline': inline,\n\t\t} ) }>\n\t\t\t<Spinner />\n\t\t</Tag>\n\t);\n}\n\nLoading.propTypes = {\n\tinline: PropTypes.bool,\n};\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { createContext, useEffect, useState, useRef, useCallback, useContext } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { useAsyncError } from '../../utils/use-async-error';\nimport { ErrorContext } from '../error-context-provider';\n\nexport const Options = createContext();\n\n/**\n * Returns a promise that resolves after one second.\n */\nfunction waitASecond() {\n\treturn new Promise( ( resolve ) => {\n\t\tsetTimeout( resolve, 1000 );\n\t} );\n}\n\n/**\n * Context provider for options retrieval and updating.\n *\n * @param {Object}  props                       Component props.\n * @param {?any}    props.children              Component children.\n * @param {string}  props.optionsRestPath       REST endpoint to retrieve options.\n * @param {boolean} props.populateDefaultValues Whether default values should be populated.\n * @param {boolean} props.hasErrorBoundary      Whether the component is wrapped in an error boundary.\n * @param {boolean} props.delaySave             Whether to delay updating state when saving data.\n */\nexport function OptionsContextProvider( { children, optionsRestPath, populateDefaultValues, hasErrorBoundary = false, delaySave = false } ) {\n\tconst [ updates, setUpdates ] = useState( {} );\n\tconst [ fetchingPluginSuppression, setFetchingPluginSuppression ] = useState( false );\n\tconst [ fetchingOptions, setFetchingOptions ] = useState( null );\n\tconst [ savedOptions, setSavedOptions ] = useState( {} );\n\tconst [ savingOptions, setSavingOptions ] = useState( false );\n\tconst [ didSaveOptions, setDidSaveOptions ] = useState( false );\n\tconst [ originalOptions, setOriginalOptions ] = useState( {} );\n\tconst [ modifiedOptions, setModifiedOptions ] = useState( {} );\n\n\tconst { error, setError } = useContext( ErrorContext );\n\tconst { setAsyncError } = useAsyncError();\n\n\tconst [ readerModeWasOverridden, setReaderModeWasOverridden ] = useState( false );\n\n\t// This component sets state inside async functions. Use this ref to prevent state updates after unmount.\n\tconst hasUnmounted = useRef( false );\n\tuseEffect( () => () => {\n\t\thasUnmounted.current = true;\n\t}, [] );\n\n\t/**\n\t * Fetches plugin suppression data.\n\t */\n\tconst refetchPluginSuppression = useCallback( () => {\n\t\tif ( error || fetchingPluginSuppression ) {\n\t\t\treturn;\n\t\t}\n\n\t\t/**\n\t\t * Fetches suppression data from the REST endpoint.\n\t\t */\n\t\t( async () => {\n\t\t\tsetFetchingPluginSuppression( true );\n\n\t\t\ttry {\n\t\t\t\tconst fetchedPluginSuppression = await apiFetch( {\n\t\t\t\t\tpath: addQueryArgs( optionsRestPath, {\n\t\t\t\t\t\t_fields: [ 'suppressed_plugins', 'suppressible_plugins' ],\n\t\t\t\t\t} ),\n\t\t\t\t} );\n\n\t\t\t\tif ( true === hasUnmounted.current ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetOriginalOptions( {\n\t\t\t\t\t...originalOptions,\n\t\t\t\t\t...fetchedPluginSuppression,\n\t\t\t\t} );\n\t\t\t} catch ( e ) {\n\t\t\t\tif ( true === hasUnmounted.current ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetError( e );\n\n\t\t\t\tif ( hasErrorBoundary ) {\n\t\t\t\t\tsetAsyncError( e );\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetFetchingPluginSuppression( false );\n\t\t} )();\n\t}, [ error, fetchingPluginSuppression, hasErrorBoundary, optionsRestPath, originalOptions, setAsyncError, setError ] );\n\n\t/**\n\t * Fetches options.\n\t */\n\tuseEffect( () => {\n\t\tif ( error || Object.keys( originalOptions ).length || fetchingOptions ) {\n\t\t\treturn;\n\t\t}\n\n\t\t/**\n\t\t * Fetches plugin options from the REST endpoint.\n\t\t */\n\t\t( async () => {\n\t\t\tsetFetchingOptions( true );\n\n\t\t\ttry {\n\t\t\t\tconst fetchedOptions = await apiFetch( { path: optionsRestPath } );\n\n\t\t\t\tif ( true === hasUnmounted.current ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( ! populateDefaultValues && fetchedOptions.plugin_configured === false ) {\n\t\t\t\t\tfetchedOptions.mobile_redirect = true;\n\t\t\t\t\tfetchedOptions.reader_theme = null;\n\t\t\t\t\tfetchedOptions.theme_support = null;\n\t\t\t\t}\n\n\t\t\t\tsetOriginalOptions( fetchedOptions );\n\t\t\t} catch ( e ) {\n\t\t\t\tif ( true === hasUnmounted.current ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetError( e );\n\n\t\t\t\tif ( hasErrorBoundary ) {\n\t\t\t\t\tsetAsyncError( e );\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetFetchingOptions( false );\n\t\t} )();\n\t}, [ error, fetchingOptions, hasErrorBoundary, originalOptions, optionsRestPath, populateDefaultValues, setAsyncError, setError ] );\n\n\t/**\n\t * Sends options to the REST endpoint to be saved.\n\t *\n\t * @param {Object} data Plugin options to update.\n\t */\n\tconst saveOptions = useCallback( async () => {\n\t\tsetSavingOptions( true );\n\n\t\ttry {\n\t\t\tconst updatesToSave = { ...updates };\n\n\t\t\t// If the reader theme was set to null on initialization (i.e., this is the first time through the wizard\n\t\t\t// and reader mode was selected), remove it from the updates.\n\t\t\tif ( null === updatesToSave.reader_theme ) {\n\t\t\t\tdelete updatesToSave.reader_theme;\n\t\t\t}\n\n\t\t\t// If this is the first time running the wizard and mobile_redirect is not in updates, set mobile_redirect to true.\n\t\t\t// We do this here instead of in the fetch effect to prevent the exit confirmation before the user has interacted.\n\t\t\tif ( ! originalOptions.plugin_configured && ! ( 'mobile_redirect' in updatesToSave ) ) {\n\t\t\t\tupdatesToSave.mobile_redirect = originalOptions.mobile_redirect;\n\t\t\t}\n\n\t\t\tif ( ! originalOptions.plugin_configured ) {\n\t\t\t\tupdatesToSave.plugin_configured = true;\n\t\t\t}\n\n\t\t\t// Ensure this promise lasts at least a second so that the \"Saving Options\" load screen is\n\t\t\t// visible long enough for the user to see it is happening.\n\t\t\tconst [ retrievedOptions ] = await Promise.all(\n\t\t\t\t[\n\t\t\t\t\tapiFetch(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmethod: 'post',\n\t\t\t\t\t\t\tpath: optionsRestPath,\n\t\t\t\t\t\t\tdata: updatesToSave,\n\t\t\t\t\t\t},\n\t\t\t\t\t),\n\t\t\t\t\tdelaySave ? waitASecond() : () => undefined,\n\t\t\t\t],\n\t\t\t);\n\n\t\t\tif ( true === hasUnmounted.current ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetOriginalOptions( retrievedOptions );\n\t\t\tsetError( null );\n\t\t} catch ( e ) {\n\t\t\tif ( true === hasUnmounted.current ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetSavingOptions( false );\n\t\t\tsetError( e );\n\n\t\t\tif ( hasErrorBoundary ) {\n\t\t\t\tsetAsyncError( e );\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tsetModifiedOptions( { ...modifiedOptions, ...updates } );\n\t\tsetSavedOptions( updates );\n\n\t\tsetUpdates( {} );\n\t\tsetDidSaveOptions( true );\n\t\tsetSavingOptions( false );\n\t}, [ delaySave, hasErrorBoundary, optionsRestPath, setAsyncError, originalOptions, setError, updates, modifiedOptions ] );\n\n\t/**\n\t * Updates options in state.\n\t *\n\t * @param {Object} newOptions Updated options values.\n\t */\n\tconst updateOptions = useCallback( ( newOptions ) => {\n\t\tsetUpdates( { ...updates, ...newOptions } );\n\t\tsetDidSaveOptions( false );\n\t}, [ updates ] );\n\n\t// Allows an item in the updates object to be removed.\n\tconst unsetOption = useCallback( ( option ) => {\n\t\tconst newOptions = { ...updates };\n\t\tdelete newOptions[ option ];\n\t\tsetUpdates( newOptions );\n\t}, [ updates ] );\n\n\treturn (\n\t\t<Options.Provider\n\t\t\tvalue={\n\t\t\t\t{\n\t\t\t\t\teditedOptions: { ...originalOptions, ...updates },\n\t\t\t\t\tfetchingOptions,\n\t\t\t\t\thasOptionsChanges: Boolean( Object.keys( updates ).length ),\n\t\t\t\t\tdidSaveOptions,\n\t\t\t\t\tupdates,\n\t\t\t\t\toriginalOptions,\n\t\t\t\t\tsaveOptions,\n\t\t\t\t\tsavedOptions,\n\t\t\t\t\tsavingOptions,\n\t\t\t\t\tunsetOption,\n\t\t\t\t\tupdateOptions,\n\t\t\t\t\treaderModeWasOverridden,\n\t\t\t\t\trefetchPluginSuppression,\n\t\t\t\t\tsetReaderModeWasOverridden,\n\t\t\t\t\tmodifiedOptions,\n\t\t\t\t}\n\t\t\t}\n\t\t>\n\t\t\t{ children }\n\t\t</Options.Provider>\n\t);\n}\n\nOptionsContextProvider.propTypes = {\n\tchildren: PropTypes.any,\n\tdelaySave: PropTypes.bool,\n\thasErrorBoundary: PropTypes.bool,\n\toptionsRestPath: PropTypes.string.isRequired,\n\tpopulateDefaultValues: PropTypes.bool.isRequired,\n};\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { createContext, useEffect, useRef, useState } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\nexport const Plugins = createContext();\n\n/**\n * Plugins context provider.\n *\n * @param {Object} props          Component props.\n * @param {any}    props.children Component children.\n */\nexport function PluginsContextProvider( { children } ) {\n\tconst [ plugins, setPlugins ] = useState( [] );\n\tconst [ fetchingPlugins, setFetchingPlugins ] = useState( null );\n\tconst [ error, setError ] = useState();\n\n\t/**\n\t * This component sets state inside async functions.\n\t * Use this ref to prevent state updates after unmount.\n\t */\n\tconst hasUnmounted = useRef( false );\n\tuseEffect( () => () => {\n\t\thasUnmounted.current = true;\n\t}, [] );\n\n\t/**\n\t * Fetches validated URL data.\n\t */\n\tuseEffect( () => {\n\t\tif ( error || plugins.length > 0 || fetchingPlugins ) {\n\t\t\treturn;\n\t\t}\n\n\t\t( async () => {\n\t\t\tsetFetchingPlugins( true );\n\n\t\t\ttry {\n\t\t\t\tconst fetchedPlugins = await apiFetch( {\n\t\t\t\t\tpath: addQueryArgs( '/wp/v2/plugins', {\n\t\t\t\t\t\t_fields: [ 'author', 'name', 'plugin', 'status', 'version' ],\n\t\t\t\t\t} ),\n\t\t\t\t} );\n\n\t\t\t\tif ( hasUnmounted.current === true ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetPlugins( fetchedPlugins );\n\t\t\t} catch ( e ) {\n\t\t\t\tif ( hasUnmounted.current === true ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetError( e );\n\t\t\t}\n\n\t\t\tsetFetchingPlugins( false );\n\t\t} )();\n\t}, [ error, fetchingPlugins, plugins ] );\n\n\treturn (\n\t\t<Plugins.Provider\n\t\t\tvalue={ {\n\t\t\t\tfetchingPlugins,\n\t\t\t\tplugins,\n\t\t\t} }\n\t\t>\n\t\t\t{ children }\n\t\t</Plugins.Provider>\n\t);\n}\nPluginsContextProvider.propTypes = {\n\tchildren: PropTypes.any,\n};\n","/**\n * Internal dependencies\n */\nimport { getPluginSlugFromFile } from '../../common/helpers/get-plugin-slug-from-file';\n\n/**\n * From an array of scannable URLs, get plugin and theme slugs along with URLs for which AMP validation errors occur.\n *\n * See the corresponding PHP logic in `\\AMP_Validated_URL_Post_Type::render_sources_column()`.\n *\n * @param {Array}   scannableUrls      Array of scannable URLs.\n * @param {Object}  options            Additional options object.\n * @param {boolean} options.useAmpUrls Whether to return `amp_url` instead of the regular URL in the lists of sources.\n * @return {Object} An object consisting of `plugins` and `themes` arrays.\n */\nexport function getSourcesFromScannableUrls( scannableUrls = [], { useAmpUrls = false } = {} ) {\n\tconst plugins = new Map();\n\tconst themes = new Map();\n\n\tfor ( const scannableUrl of scannableUrls ) {\n\t\tconst {\n\t\t\tamp_url: ampUrl,\n\t\t\turl,\n\t\t\tvalidation_errors: validationErrors,\n\t\t} = scannableUrl;\n\n\t\tif ( ! validationErrors?.length ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tfor ( const validationError of validationErrors ) {\n\t\t\tif ( ! validationError?.sources?.length ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor ( const source of validationError.sources ) {\n\t\t\t\tif ( source.type === 'plugin' ) {\n\t\t\t\t\tconst pluginSlug = getPluginSlugFromFile( source.name );\n\n\t\t\t\t\tif ( 'gutenberg' === pluginSlug && validationError.sources.length > 1 ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tplugins.set(\n\t\t\t\t\t\tpluginSlug,\n\t\t\t\t\t\tnew Set( [ ...( plugins.get( pluginSlug ) || [] ), useAmpUrls ? ampUrl : url ] ),\n\t\t\t\t\t);\n\t\t\t\t} else if ( source.type === 'theme' ) {\n\t\t\t\t\tthemes.set(\n\t\t\t\t\t\tsource.name,\n\t\t\t\t\t\tnew Set( [ ...( themes.get( source.name ) || [] ), useAmpUrls ? ampUrl : url ] ),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Skip including AMP in the summary, since AMP is like core.\n\tplugins.delete( 'amp' );\n\n\treturn {\n\t\tplugins: [ ...plugins ].map( ( [ slug, urls ] ) => ( { slug, urls: [ ...urls ] } ) ),\n\t\tthemes: [ ...themes ].map( ( [ slug, urls ] ) => ( { slug, urls: [ ...urls ] } ) ),\n\t};\n}\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tcreateContext,\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n\tuseMemo,\n\tuseReducer,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { STANDARD } from '../../common/constants';\nimport { useAsyncError } from '../../utils/use-async-error';\nimport { Options } from '../options-context-provider';\nimport { getSourcesFromScannableUrls } from './get-sources-from-scannable-urls';\n\nexport const SiteScan = createContext();\n\n/**\n * Site Scan Actions.\n */\nexport const ACTION_SET_STATUS = 'ACTION_SET_STATUS';\nexport const ACTION_SCANNABLE_URLS_REQUEST = 'ACTION_SCANNABLE_URLS_REQUEST';\nexport const ACTION_SCANNABLE_URLS_RECEIVE = 'ACTION_SCANNABLE_URLS_RECEIVE';\nexport const ACTION_SCAN_INITIALIZE = 'ACTION_SCAN_INITIALIZE';\nexport const ACTION_SCAN_URL = 'ACTION_SCAN_URL';\nexport const ACTION_SCAN_RECEIVE_RESULTS = 'ACTION_SCAN_RECEIVE_RESULTS';\nexport const ACTION_SCAN_COMPLETE = 'ACTION_SCAN_COMPLETE';\nexport const ACTION_SCAN_CANCEL = 'ACTION_SCAN_CANCEL';\n\n/**\n * Site Scan Statuses.\n */\nexport const STATUS_REQUEST_SCANNABLE_URLS = 'STATUS_REQUEST_SCANNABLE_URLS';\nexport const STATUS_FETCHING_SCANNABLE_URLS = 'STATUS_FETCHING_SCANNABLE_URLS';\nexport const STATUS_REFETCHING_PLUGIN_SUPPRESSION = 'STATUS_REFETCHING_PLUGIN_SUPPRESSION';\nexport const STATUS_READY = 'STATUS_READY';\nexport const STATUS_IDLE = 'STATUS_IDLE';\nexport const STATUS_IN_PROGRESS = 'STATUS_IN_PROGRESS';\nexport const STATUS_COMPLETED = 'STATUS_COMPLETED';\nexport const STATUS_FAILED = 'STATUS_FAILED';\nexport const STATUS_CANCELLED = 'STATUS_CANCELLED';\nexport const STATUS_SKIPPED = 'STATUS_SKIPPED';\n\n/**\n * Initial Site Scan state.\n *\n * @type {Object}\n */\nconst INITIAL_STATE = {\n\tcurrentlyScannedUrlIndexes: [],\n\tforceStandardMode: false,\n\tscannableUrls: [],\n\tscanOnce: false,\n\tstatus: '',\n\tscansCount: 0,\n\turlIndexesPendingScan: [],\n};\n\n/**\n * The maximum number of validation requests that can be issued concurrently.\n *\n * @type {number}\n */\nconst CONCURRENT_VALIDATION_REQUESTS_MAX_COUNT = 3;\n\n/**\n * The number of milliseconds to wait between subsequent validation requests.\n *\n * @type {number}\n */\nconst CONCURRENT_VALIDATION_REQUESTS_WAIT_MS = 500;\n\n/**\n * Site Scan Reducer.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Action to call.\n * @return {Object} New state.\n */\n//eslint-disable-next-line complexity\nexport function siteScanReducer( state, action ) {\n\t// Bail out early if Site Scan is skipped, i.e. if there is no validation nonce provided meaning the current user\n\t// does not have capabilities for running AMP validation.\n\tif ( state.status === STATUS_SKIPPED ) {\n\t\treturn state;\n\t}\n\n\tswitch ( action.type ) {\n\t\tcase ACTION_SET_STATUS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: action.status,\n\t\t\t};\n\t\t}\n\t\tcase ACTION_SCANNABLE_URLS_REQUEST: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: STATUS_REQUEST_SCANNABLE_URLS,\n\t\t\t\tforceStandardMode: action?.forceStandardMode ?? false,\n\t\t\t\tcurrentlyScannedUrlIndexes: [],\n\t\t\t\turlIndexesPendingScan: [],\n\t\t\t};\n\t\t}\n\t\tcase ACTION_SCANNABLE_URLS_RECEIVE: {\n\t\t\tconst hasScannableUrls = Array.isArray( action.scannableUrls ) && action.scannableUrls.length > 0;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: ( state.scanOnce && state.scansCount > 0 ) || ! hasScannableUrls ? STATUS_COMPLETED : STATUS_READY,\n\t\t\t\tscannableUrls: hasScannableUrls ? action.scannableUrls : [],\n\t\t\t};\n\t\t}\n\t\tcase ACTION_SCAN_INITIALIZE: {\n\t\t\tif ( ! [ STATUS_READY, STATUS_COMPLETED, STATUS_FAILED, STATUS_CANCELLED ].includes( state.status ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tif ( state.scanOnce && state.scansCount > 0 ) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tstatus: STATUS_COMPLETED,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: STATUS_IDLE,\n\t\t\t\tcurrentlyScannedUrlIndexes: [],\n\t\t\t\tscansCount: state.scansCount + 1,\n\t\t\t\turlIndexesPendingScan: state.scannableUrls.map( ( url, index ) => index ),\n\t\t\t};\n\t\t}\n\t\tcase ACTION_SCAN_URL: {\n\t\t\tif ( ! [ STATUS_IDLE, STATUS_IN_PROGRESS ].includes( state.status ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: STATUS_IN_PROGRESS,\n\t\t\t\tcurrentlyScannedUrlIndexes: [\n\t\t\t\t\t...state.currentlyScannedUrlIndexes,\n\t\t\t\t\taction.currentlyScannedUrlIndex,\n\t\t\t\t],\n\t\t\t\turlIndexesPendingScan: state.urlIndexesPendingScan.filter( ( index ) => index !== action.currentlyScannedUrlIndex ),\n\t\t\t};\n\t\t}\n\t\tcase ACTION_SCAN_RECEIVE_RESULTS: {\n\t\t\tif ( ! [ STATUS_IDLE, STATUS_IN_PROGRESS ].includes( state.status ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: STATUS_IDLE,\n\t\t\t\tcurrentlyScannedUrlIndexes: state.currentlyScannedUrlIndexes.filter( ( index ) => index !== action.currentlyScannedUrlIndex ),\n\t\t\t\tscannableUrls: [\n\t\t\t\t\t...state.scannableUrls.slice( 0, action.currentlyScannedUrlIndex ),\n\t\t\t\t\t{\n\t\t\t\t\t\t...state.scannableUrls[ action.currentlyScannedUrlIndex ],\n\t\t\t\t\t\tstale: false,\n\t\t\t\t\t\terror: action.error ?? false,\n\t\t\t\t\t\tvalidated_url_post: action.error ? {} : action.validatedUrlPost,\n\t\t\t\t\t\tvalidation_errors: action.error ? [] : action.validationErrors,\n\t\t\t\t\t},\n\t\t\t\t\t...state.scannableUrls.slice( action.currentlyScannedUrlIndex + 1 ),\n\t\t\t\t],\n\t\t\t};\n\t\t}\n\t\tcase ACTION_SCAN_COMPLETE: {\n\t\t\tconst hasFailed = state.scannableUrls.every( ( scannableUrl ) => Boolean( scannableUrl.error ) );\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: hasFailed ? STATUS_FAILED : STATUS_REFETCHING_PLUGIN_SUPPRESSION,\n\t\t\t};\n\t\t}\n\t\tcase ACTION_SCAN_CANCEL: {\n\t\t\tif ( ! [ STATUS_IDLE, STATUS_IN_PROGRESS ].includes( state.status ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: STATUS_CANCELLED,\n\t\t\t\tcurrentlyScannedUrlIndexes: [],\n\t\t\t\turlIndexesPendingScan: [],\n\t\t\t};\n\t\t}\n\t\tdefault: {\n\t\t\tthrow new Error( `Unhandled action type: ${ action.type }` );\n\t\t}\n\t}\n}\n\n/**\n * Context provider for site scanning.\n *\n * @param {Object}  props                                        Component props.\n * @param {?any}    props.children                               Component children.\n * @param {boolean} props.fetchCachedValidationErrors            Whether to fetch cached validation errors on mount.\n * @param {boolean} props.refetchPluginSuppressionOnScanComplete Whether to refetch plugin suppression data when site scan is complete.\n * @param {boolean} props.resetOnOptionsChange                   Whether to reset scanner and refetch scannable URLs whenever AMP options are changed.\n * @param {string}  props.scannableUrlsRestPath                  The REST path for interacting with the scannable URL resources.\n * @param {boolean} props.scanOnce                               Whether to scan only once.\n * @param {string}  props.validateNonce                          The AMP validate nonce.\n */\nexport function SiteScanContextProvider( {\n\tchildren,\n\tfetchCachedValidationErrors = false,\n\trefetchPluginSuppressionOnScanComplete = false,\n\tresetOnOptionsChange = false,\n\tscannableUrlsRestPath,\n\tscanOnce = false,\n\tvalidateNonce,\n} ) {\n\tconst {\n\t\toriginalOptions: {\n\t\t\ttheme_support: themeSupport,\n\t\t},\n\t\tsavedOptions,\n\t\trefetchPluginSuppression,\n\t} = useContext( Options );\n\tconst { setAsyncError } = useAsyncError();\n\tconst [ state, dispatch ] = useReducer( siteScanReducer, { ...INITIAL_STATE, scanOnce } );\n\tconst {\n\t\tcurrentlyScannedUrlIndexes,\n\t\tforceStandardMode,\n\t\tscannableUrls,\n\t\turlIndexesPendingScan,\n\t\tstatus,\n\t} = state;\n\tconst urlType = forceStandardMode || themeSupport === STANDARD ? 'url' : 'amp_url';\n\tconst previewPermalink = scannableUrls?.[ 0 ]?.[ urlType ] ?? '';\n\n\t/**\n\t * Memoize properties.\n\t */\n\tconst {\n\t\thasSiteScanResults,\n\t\tpluginsWithAmpIncompatibility,\n\t\tstale,\n\t\tthemesWithAmpIncompatibility,\n\t} = useMemo( () => {\n\t\t// Skip if the scan is in progress.\n\t\tif ( ! [ STATUS_READY, STATUS_COMPLETED, STATUS_SKIPPED ].includes( status ) ) {\n\t\t\treturn {\n\t\t\t\thasSiteScanResults: false,\n\t\t\t\tpluginsWithAmpIncompatibility: [],\n\t\t\t\tstale: false,\n\t\t\t\tthemesWithAmpIncompatibility: [],\n\t\t\t};\n\t\t}\n\n\t\tconst slugs = getSourcesFromScannableUrls( scannableUrls, {\n\t\t\tuseAmpUrls: urlType === 'amp_url',\n\t\t} );\n\n\t\treturn {\n\t\t\thasSiteScanResults: scannableUrls.some( ( scannableUrl ) => Boolean( scannableUrl?.validation_errors ) ),\n\t\t\tpluginsWithAmpIncompatibility: slugs.plugins,\n\t\t\tstale: scannableUrls.some( ( scannableUrl ) => scannableUrl?.stale === true ),\n\t\t\tthemesWithAmpIncompatibility: slugs.themes,\n\t\t};\n\t}, [ scannableUrls, status, urlType ] );\n\n\t/**\n\t * Preflight check.\n\t */\n\tuseEffect( () => {\n\t\tif ( ! validateNonce && status !== STATUS_SKIPPED ) {\n\t\t\tdispatch( {\n\t\t\t\ttype: ACTION_SET_STATUS,\n\t\t\t\tstatus: STATUS_SKIPPED,\n\t\t\t} );\n\t\t}\n\t}, [ status, validateNonce ] );\n\n\t/**\n\t * This component sets state inside async functions. Use this ref to prevent\n\t * state updates after unmount.\n\t */\n\tconst hasUnmounted = useRef( false );\n\tuseEffect( () => () => {\n\t\thasUnmounted.current = true;\n\t}, [] );\n\n\tconst fetchScannableUrls = useCallback( ( args = {} ) => {\n\t\tdispatch( {\n\t\t\ttype: ACTION_SCANNABLE_URLS_REQUEST,\n\t\t\tforceStandardMode: args?.forceStandardMode,\n\t\t} );\n\t}, [] );\n\n\tconst startSiteScan = useCallback( () => {\n\t\tdispatch( { type: ACTION_SCAN_INITIALIZE } );\n\t}, [] );\n\n\tconst cancelSiteScan = useCallback( () => {\n\t\tdispatch( { type: ACTION_SCAN_CANCEL } );\n\t}, [] );\n\n\t/**\n\t * Whenever options change, cancel the current scan (if in progress) and\n\t * refetch the scannable URLs.\n\t */\n\tuseEffect( () => {\n\t\tif ( resetOnOptionsChange && Object.keys( savedOptions ).length > 0 ) {\n\t\t\tdispatch( { type: ACTION_SCANNABLE_URLS_REQUEST } );\n\t\t}\n\t}, [ resetOnOptionsChange, savedOptions ] );\n\n\t/**\n\t * Trigger site scan if the suppressed plugins list has changed and the\n\t * scanner is ready to start a scan.\n\t */\n\tuseEffect( () => {\n\t\tif ( status === STATUS_READY && Object.keys( savedOptions.suppressed_plugins || {} ).length > 0 ) {\n\t\t\tdispatch( { type: ACTION_SCAN_INITIALIZE } );\n\t\t}\n\t}, [ savedOptions?.suppressed_plugins, status ] );\n\n\t/**\n\t * Once the site scan is complete, refetch the plugin suppression data so\n\t * that the suppressed table is updated with the latest validation errors.\n\t */\n\tuseEffect( () => {\n\t\tif ( status !== STATUS_REFETCHING_PLUGIN_SUPPRESSION ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( refetchPluginSuppressionOnScanComplete ) {\n\t\t\trefetchPluginSuppression();\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: ACTION_SET_STATUS,\n\t\t\tstatus: STATUS_COMPLETED,\n\t\t} );\n\t}, [ refetchPluginSuppression, refetchPluginSuppressionOnScanComplete, status ] );\n\n\t/**\n\t * Delay concurrent validation requests.\n\t */\n\tconst [ shouldDelayValidationRequest, setShouldDelayValidationRequest ] = useState( false );\n\tuseEffect( () => {\n\t\tlet timeoutId;\n\n\t\tif ( shouldDelayValidationRequest ) {\n\t\t\t( async () => {\n\t\t\t\tawait new Promise( ( resolve ) => {\n\t\t\t\t\ttimeoutId = setTimeout( resolve, CONCURRENT_VALIDATION_REQUESTS_WAIT_MS );\n\t\t\t\t} );\n\n\t\t\t\tif ( true === hasUnmounted.current ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetShouldDelayValidationRequest( false );\n\t\t\t} )();\n\t\t}\n\n\t\treturn () => {\n\t\t\tif ( timeoutId ) {\n\t\t\t\tclearTimeout( timeoutId );\n\t\t\t}\n\t\t};\n\t}, [ shouldDelayValidationRequest ] );\n\n\t/**\n\t * Fetch scannable URLs from the REST endpoint.\n\t */\n\tuseEffect( () => {\n\t\t( async () => {\n\t\t\tif ( status !== STATUS_REQUEST_SCANNABLE_URLS ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatch( {\n\t\t\t\ttype: ACTION_SET_STATUS,\n\t\t\t\tstatus: STATUS_FETCHING_SCANNABLE_URLS,\n\t\t\t} );\n\n\t\t\ttry {\n\t\t\t\tconst fields = [ 'url', 'amp_url', 'type', 'label' ];\n\t\t\t\tconst response = await apiFetch( {\n\t\t\t\t\tpath: addQueryArgs( scannableUrlsRestPath, {\n\t\t\t\t\t\t_fields: fetchCachedValidationErrors ? [ ...fields, 'validation_errors', 'stale' ] : fields,\n\t\t\t\t\t\tforce_standard_mode: forceStandardMode ? 1 : undefined,\n\t\t\t\t\t} ),\n\t\t\t\t} );\n\n\t\t\t\tif ( true === hasUnmounted.current ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tdispatch( {\n\t\t\t\t\ttype: ACTION_SCANNABLE_URLS_RECEIVE,\n\t\t\t\t\tscannableUrls: response,\n\t\t\t\t} );\n\t\t\t} catch ( e ) {\n\t\t\t\tif ( true === hasUnmounted.current ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetAsyncError( e );\n\t\t\t}\n\t\t} )();\n\t}, [ fetchCachedValidationErrors, forceStandardMode, scannableUrlsRestPath, setAsyncError, status ] );\n\n\t/**\n\t * Scan site URLs sequentially.\n\t */\n\tuseEffect( () => {\n\t\tif ( ! [ STATUS_IDLE, STATUS_IN_PROGRESS ].includes( status ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t/**\n\t\t * If there are no more URLs to scan and no URLs are scanned at the\n\t\t * moment, finish the site scan.\n\t\t */\n\t\tif ( urlIndexesPendingScan.length === 0 ) {\n\t\t\tif ( currentlyScannedUrlIndexes.length === 0 ) {\n\t\t\t\tdispatch( { type: ACTION_SCAN_COMPLETE } );\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tif ( shouldDelayValidationRequest || currentlyScannedUrlIndexes.length >= CONCURRENT_VALIDATION_REQUESTS_MAX_COUNT ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetShouldDelayValidationRequest( true );\n\n\t\tconst currentlyScannedUrlIndex = urlIndexesPendingScan[ 0 ];\n\n\t\tdispatch( {\n\t\t\ttype: ACTION_SCAN_URL,\n\t\t\tcurrentlyScannedUrlIndex,\n\t\t} );\n\n\t\t( async () => {\n\t\t\tconst results = {};\n\n\t\t\ttry {\n\t\t\t\tconst scannableUrl = scannableUrls[ currentlyScannedUrlIndex ];\n\t\t\t\tconst url = scannableUrl[ urlType ];\n\t\t\t\tconst args = {\n\t\t\t\t\tamp_validate: {\n\t\t\t\t\t\tcache: true,\n\t\t\t\t\t\tcache_bust: Math.random(),\n\t\t\t\t\t\tforce_standard_mode: forceStandardMode || undefined,\n\t\t\t\t\t\tnonce: validateNonce,\n\t\t\t\t\t\tomit_stylesheets: true,\n\t\t\t\t\t},\n\t\t\t\t};\n\n\t\t\t\tconst response = await fetch( addQueryArgs( url, args ) );\n\t\t\t\tconst data = await response.json();\n\n\t\t\t\tif ( true === hasUnmounted.current ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( response.ok ) {\n\t\t\t\t\tresults.validatedUrlPost = data.validated_url_post;\n\t\t\t\t\tresults.validationErrors = data.results.map( ( { error } ) => error );\n\t\t\t\t} else {\n\t\t\t\t\tresults.error = data?.code || true;\n\t\t\t\t}\n\t\t\t} catch ( e ) {\n\t\t\t\tif ( true === hasUnmounted.current ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresults.error = true;\n\t\t\t}\n\n\t\t\tdispatch( {\n\t\t\t\ttype: ACTION_SCAN_RECEIVE_RESULTS,\n\t\t\t\tcurrentlyScannedUrlIndex,\n\t\t\t\t...results,\n\t\t\t} );\n\n\t\t\tsetShouldDelayValidationRequest( false );\n\t\t} )();\n\t}, [ currentlyScannedUrlIndexes.length, forceStandardMode, scannableUrls, shouldDelayValidationRequest, status, urlIndexesPendingScan, urlType, validateNonce ] );\n\n\treturn (\n\t\t<SiteScan.Provider\n\t\t\tvalue={ {\n\t\t\t\tcancelSiteScan,\n\t\t\t\tfetchScannableUrls,\n\t\t\t\tforceStandardMode,\n\t\t\t\thasSiteScanResults,\n\t\t\t\tisBusy: [ STATUS_IDLE, STATUS_IN_PROGRESS ].includes( status ),\n\t\t\t\tisCancelled: status === STATUS_CANCELLED,\n\t\t\t\tisCompleted: [ STATUS_REFETCHING_PLUGIN_SUPPRESSION, STATUS_COMPLETED ].includes( status ),\n\t\t\t\tisFailed: status === STATUS_FAILED,\n\t\t\t\tisFetchingScannableUrls: [ STATUS_REQUEST_SCANNABLE_URLS, STATUS_FETCHING_SCANNABLE_URLS ].includes( status ),\n\t\t\t\tisInitializing: ! Boolean( status ),\n\t\t\t\tisReady: status === STATUS_READY,\n\t\t\t\tisSiteScannable: scannableUrls.length > 0,\n\t\t\t\tisSkipped: status === STATUS_SKIPPED,\n\t\t\t\tpluginsWithAmpIncompatibility,\n\t\t\t\tpreviewPermalink,\n\t\t\t\tscannableUrls,\n\t\t\t\tscannedUrlsMaxIndex: ( [ STATUS_IN_PROGRESS, STATUS_IDLE ].includes( status ) ? Math.min( scannableUrls.length, ...urlIndexesPendingScan ) : 0 ) - 1,\n\t\t\t\tstale,\n\t\t\t\tstartSiteScan,\n\t\t\t\tthemesWithAmpIncompatibility,\n\t\t\t} }\n\t\t>\n\t\t\t{ children }\n\t\t</SiteScan.Provider>\n\t);\n}\n\nSiteScanContextProvider.propTypes = {\n\tchildren: PropTypes.any,\n\tfetchCachedValidationErrors: PropTypes.bool,\n\trefetchPluginSuppressionOnScanComplete: PropTypes.bool,\n\tresetOnOptionsChange: PropTypes.bool,\n\tscannableUrlsRestPath: PropTypes.string,\n\tscanOnce: PropTypes.bool,\n\tvalidateNonce: PropTypes.string,\n};\n","/**\n * WordPress dependencies\n */\nimport { useState, useCallback } from '@wordpress/element';\n\n/**\n * The error boundary component doesn't automatically catch errors in async functions.\n * This allows errors to be explicitly thrown.\n */\nexport function useAsyncError() {\n\tconst [ error, setAsyncError ] = useState();\n\n\tconst memoizedSetError = useCallback(\n\t\t( e ) => {\n\t\t\tsetAsyncError( () => {\n\t\t\t\tthrow e;\n\t\t\t} );\n\t\t},\n\t\t[],\n\t);\n\n\treturn { error, setAsyncError: memoizedSetError };\n}\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","module.exports = ampSiteScanNotice;","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"url\"];","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport {\n\tAPP_ROOT_ID,\n\tOPTIONS_REST_PATH,\n\tSCANNABLE_URLS_REST_PATH,\n\tVALIDATE_NONCE,\n} from 'amp-site-scan-notice'; // From WP inline script.\n\n/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\nimport { render } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { ErrorContextProvider } from '../../components/error-context-provider';\nimport { OptionsContextProvider } from '../../components/options-context-provider';\nimport { PluginsContextProvider } from '../../components/plugins-context-provider';\nimport { SiteScanContextProvider } from '../../components/site-scan-context-provider';\nimport { ErrorScreen } from '../../components/error-screen';\nimport { ErrorBoundary } from '../../components/error-boundary';\nimport { SiteScanNotice } from './notice';\n\nlet errorHandler;\n\n/**\n * Context providers for the application.\n *\n * @param {Object} props          Component props.\n * @param {any}    props.children Component children.\n */\nfunction Providers( { children } ) {\n\tglobal.removeEventListener( 'error', errorHandler );\n\n\treturn (\n\t\t<ErrorContextProvider>\n\t\t\t<ErrorBoundary\n\t\t\t\ttitle={ __( 'The AMP Site Scanner has experienced an error.', 'amp' ) }\n\t\t\t>\n\t\t\t\t<OptionsContextProvider\n\t\t\t\t\thasErrorBoundary={ true }\n\t\t\t\t\toptionsRestPath={ OPTIONS_REST_PATH }\n\t\t\t\t\tpopulateDefaultValues={ false }\n\t\t\t\t>\n\t\t\t\t\t<PluginsContextProvider>\n\t\t\t\t\t\t<SiteScanContextProvider\n\t\t\t\t\t\t\tscannableUrlsRestPath={ SCANNABLE_URLS_REST_PATH }\n\t\t\t\t\t\t\tvalidateNonce={ VALIDATE_NONCE }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t</SiteScanContextProvider>\n\t\t\t\t\t</PluginsContextProvider>\n\t\t\t\t</OptionsContextProvider>\n\t\t\t</ErrorBoundary>\n\t\t</ErrorContextProvider>\n\t);\n}\nProviders.propTypes = {\n\tchildren: PropTypes.any,\n};\n\ndomReady( () => {\n\tconst root = document.getElementById( APP_ROOT_ID );\n\n\tif ( ! root ) {\n\t\treturn;\n\t}\n\n\terrorHandler = ( event ) => {\n\t\t// Handle only own errors.\n\t\tif ( event.filename && /amp-site-scan-notice(\\.min)?\\.js/.test( event.filename ) ) {\n\t\t\trender( <ErrorScreen error={ event.error } />, root );\n\t\t}\n\t};\n\n\tglobal.addEventListener( 'error', errorHandler );\n\n\trender(\n\t\t<Providers>\n\t\t\t<SiteScanNotice />\n\t\t</Providers>,\n\t\troot,\n\t);\n} );\n"],"names":["AMP_COMPATIBLE_PLUGINS_URL","SETTINGS_LINK","useContext","useEffect","__","SiteScan","AMP_ADMIN_NOTICE_TYPE_ERROR","AMP_ADMIN_NOTICE_TYPE_INFO","AMP_ADMIN_NOTICE_TYPE_SUCCESS","AMP_ADMIN_NOTICE_TYPE_WARNING","AmpAdminNotice","Loading","isExternalUrl","PluginsWithAmpIncompatibility","PLUGIN_SUPPRESSION_LINK","URL","hash","SiteScanNotice","cancelSiteScan","fetchScannableUrls","isCancelled","isCompleted","isFailed","isInitializing","isReady","pluginsWithAmpIncompatibility","startSiteScan","commonNoticeProps","className","isDismissible","onDismiss","length","target","rel","PropTypes","_n","sprintf","Plugins","getPluginSlugFromFile","fetchingPlugins","plugins","pluginNames","Object","values","reduce","accumulatedPluginNames","plugin","name","map","pluginWithAmpIncompatibility","slug","__html","urls","url","propTypes","arrayOf","shape","string","MIN_FONT_SIZE","MAX_FONT_SIZE","FILE_TYPE_ERROR_VIEW","READER","STANDARD","TRANSITIONAL","DEFAULT_MOBILE_BREAKPOINT","path","replace","global","location","host","classnames","VisuallyHidden","useCallback","useState","children","type","dismissed","setDismissed","dismissHandler","any","bool","func","oneOf","useRef","useCopyToClipboard","Button","TIMEOUT","ClipboardButton","onCopy","onFinishCopy","text","buttonProps","timeoutId","ref","clearTimeout","current","setTimeout","focusOnCopyEventTarget","event","focus","isRequired","Component","ErrorScreen","ErrorBoundary","constructor","props","timeout","state","error","componentDidMount","mounted","componentWillUnmount","componentDidCatch","setState","render","exitLinkLabel","exitLinkUrl","title","createContext","ErrorContext","ErrorContextProvider","setError","Panel","finishLinkLabel","finishLinkUrl","hasCopied","setHasCopied","message","stack","JSON","stringify","Spinner","inline","Tag","apiFetch","addQueryArgs","useAsyncError","Options","waitASecond","Promise","resolve","OptionsContextProvider","optionsRestPath","populateDefaultValues","hasErrorBoundary","delaySave","updates","setUpdates","fetchingPluginSuppression","setFetchingPluginSuppression","fetchingOptions","setFetchingOptions","savedOptions","setSavedOptions","savingOptions","setSavingOptions","didSaveOptions","setDidSaveOptions","originalOptions","setOriginalOptions","modifiedOptions","setModifiedOptions","setAsyncError","readerModeWasOverridden","setReaderModeWasOverridden","hasUnmounted","refetchPluginSuppression","fetchedPluginSuppression","_fields","e","keys","fetchedOptions","plugin_configured","mobile_redirect","reader_theme","theme_support","saveOptions","updatesToSave","retrievedOptions","all","method","data","undefined","updateOptions","newOptions","unsetOption","option","editedOptions","hasOptionsChanges","Boolean","PluginsContextProvider","setPlugins","setFetchingPlugins","fetchedPlugins","getSourcesFromScannableUrls","scannableUrls","useAmpUrls","Map","themes","scannableUrl","amp_url","ampUrl","validation_errors","validationErrors","validationError","sources","source","pluginSlug","set","Set","get","delete","useMemo","useReducer","ACTION_SET_STATUS","ACTION_SCANNABLE_URLS_REQUEST","ACTION_SCANNABLE_URLS_RECEIVE","ACTION_SCAN_INITIALIZE","ACTION_SCAN_URL","ACTION_SCAN_RECEIVE_RESULTS","ACTION_SCAN_COMPLETE","ACTION_SCAN_CANCEL","STATUS_REQUEST_SCANNABLE_URLS","STATUS_FETCHING_SCANNABLE_URLS","STATUS_REFETCHING_PLUGIN_SUPPRESSION","STATUS_READY","STATUS_IDLE","STATUS_IN_PROGRESS","STATUS_COMPLETED","STATUS_FAILED","STATUS_CANCELLED","STATUS_SKIPPED","INITIAL_STATE","currentlyScannedUrlIndexes","forceStandardMode","scanOnce","status","scansCount","urlIndexesPendingScan","CONCURRENT_VALIDATION_REQUESTS_MAX_COUNT","CONCURRENT_VALIDATION_REQUESTS_WAIT_MS","siteScanReducer","action","hasScannableUrls","Array","isArray","includes","index","currentlyScannedUrlIndex","filter","slice","stale","validated_url_post","validatedUrlPost","hasFailed","every","Error","SiteScanContextProvider","fetchCachedValidationErrors","refetchPluginSuppressionOnScanComplete","resetOnOptionsChange","scannableUrlsRestPath","validateNonce","themeSupport","dispatch","urlType","previewPermalink","hasSiteScanResults","themesWithAmpIncompatibility","slugs","some","args","suppressed_plugins","shouldDelayValidationRequest","setShouldDelayValidationRequest","fields","response","force_standard_mode","results","amp_validate","cache","cache_bust","Math","random","nonce","omit_stylesheets","fetch","json","ok","code","isBusy","isFetchingScannableUrls","isSiteScannable","isSkipped","scannedUrlsMaxIndex","min","memoizedSetError","APP_ROOT_ID","OPTIONS_REST_PATH","SCANNABLE_URLS_REST_PATH","VALIDATE_NONCE","domReady","errorHandler","Providers","removeEventListener","root","document","getElementById","filename","test","addEventListener"],"sourceRoot":""}