{"version":3,"file":"amp-customize-controls-legacy.js","mappings":"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","sources":["webpack://amp-wp/external window [\"wp\",\"i18n\"]","webpack://amp-wp/webpack/bootstrap","webpack://amp-wp/webpack/runtime/compat get default export","webpack://amp-wp/webpack/runtime/define property getters","webpack://amp-wp/webpack/runtime/hasOwnProperty shorthand","webpack://amp-wp/webpack/runtime/make namespace object","webpack://amp-wp/./assets/src/customizer/amp-customize-controls-legacy.js"],"sourcesContent":["module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* global _, jQuery */\n\n/* eslint no-magic-numbers: [ \"error\", { \"ignore\": [ 0, 1, 250] } ] */\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nwindow.ampCustomizeControls = ( function( api, $ ) {\n\t'use strict';\n\n\tconst component = {\n\t\tdata: {\n\t\t\tqueryVar: 'amp',\n\t\t\tpanelId: '',\n\t\t\tampUrl: '',\n\t\t\tl10n: {\n\t\t\t\tunavailableMessage: '',\n\t\t\t\tunavailableLinkText: '',\n\t\t\t},\n\t\t},\n\t\ttooltipTimeout: 5000,\n\t\ttooltipVisible: new api.Value( false ),\n\t\ttooltipFocused: new api.Value( 0 ),\n\t};\n\n\t/**\n\t * Boot using data sent inline.\n\t *\n\t * @param {Object} data Object data.\n\t * @return {void}\n\t */\n\tcomponent.boot = function boot( data ) {\n\t\tcomponent.data = data;\n\n\t\tfunction initPanel() {\n\t\t\tapi.panel( component.data.panelId, component.panelReady );\n\t\t}\n\n\t\tif ( api.state ) {\n\t\t\tcomponent.addState();\n\t\t\tapi.bind( 'ready', initPanel );\n\t\t} else { // WP<4.9.\n\t\t\tapi.bind( 'ready', function() {\n\t\t\t\tcomponent.addState(); // Needed for WP<4.9.\n\t\t\t\tinitPanel();\n\t\t\t} );\n\t\t}\n\t};\n\n\t/**\n\t * Add state for AMP.\n\t *\n\t * @return {void}\n\t */\n\tcomponent.addState = function addState() {\n\t\tapi.state.add( 'ampEnabled', new api.Value( false ) );\n\t\tapi.state.add( 'ampAvailable', new api.Value( false ) );\n\t};\n\n\t/**\n\t * Check if the URL is AMPified.\n\t *\n\t * @param {string} url URL.\n\t * @return {boolean} whether it is an AMP URL.\n\t */\n\tcomponent.isAmpUrl = function isAmpUrl( url ) {\n\t\tconst urlParser = document.createElement( 'a' ),\n\t\t\tregexEndpoint = new RegExp( '\\\\/' + component.data.queryVar + '\\\\/?$' );\n\n\t\turlParser.href = url;\n\t\tif ( ! _.isUndefined( wp.customize.utils.parseQueryString( urlParser.search.substr( 1 ) )[ component.data.queryVar ] ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn regexEndpoint.test( urlParser.pathname );\n\t};\n\n\t/**\n\t * Create an non-AMP version of a URL.\n\t *\n\t * @param {string} url URL.\n\t * @return {string} non-AMPified URL.\n\t */\n\tcomponent.unampifyUrl = function unampifyUrl( url ) {\n\t\tconst urlParser = document.createElement( 'a' ),\n\t\t\tregexEndpoint = new RegExp( '\\\\/' + component.data.queryVar + '\\\\/?$' );\n\n\t\turlParser.href = url;\n\t\turlParser.pathname = urlParser.pathname.replace( regexEndpoint, '' );\n\n\t\tif ( 1 < urlParser.search.length ) {\n\t\t\tconst params = window.wp.customize.utils.parseQueryString( urlParser.search.substr( 1 ) );\n\t\t\tdelete params[ component.data.queryVar ];\n\t\t\turlParser.search = $.param( params );\n\t\t}\n\n\t\treturn urlParser.href;\n\t};\n\n\t/**\n\t * Create an AMP version of a URL.\n\t *\n\t * @param {string} url URL.\n\t * @return {string} AMPified URL.\n\t */\n\tcomponent.ampifyUrl = function ampifyUrl( url ) {\n\t\tconst urlParser = document.createElement( 'a' );\n\t\turlParser.href = component.unampifyUrl( url );\n\t\tif ( urlParser.search.length ) {\n\t\t\turlParser.search += '&';\n\t\t}\n\t\turlParser.search += component.data.queryVar + '=1';\n\t\treturn urlParser.href;\n\t};\n\n\t/**\n\t * Try to close the tooltip after a given timeout.\n\t *\n\t * @return {void}\n\t */\n\tcomponent.tryToCloseTooltip = function tryToCloseTooltip() {\n\t\tclearTimeout( component.tooltipTimeoutId );\n\t\tcomponent.tooltipTimeoutId = setTimeout( function() {\n\t\t\tif ( ! component.tooltipVisible.get() ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( 0 < component.tooltipFocused.get() ) {\n\t\t\t\tcomponent.tryToCloseTooltip();\n\t\t\t} else {\n\t\t\t\tcomponent.tooltipVisible.set( false );\n\t\t\t}\n\t\t}, component.tooltipTimeout );\n\t};\n\n\t/**\n\t * Make current URL AMPified if toggle is on.\n\t *\n\t * @param {string} url URL.\n\t * @return {string} AMPified URL.\n\t */\n\tcomponent.setCurrentAmpUrl = function setCurrentAmpUrl( url ) {\n\t\tconst enabled = api.state( 'ampEnabled' ).get();\n\t\tif ( ! enabled && component.isAmpUrl( url ) ) {\n\t\t\treturn component.unampifyUrl( url );\n\t\t} else if ( enabled && ! component.isAmpUrl( url ) ) {\n\t\t\treturn component.ampifyUrl( url );\n\t\t}\n\t\treturn url;\n\t};\n\n\t/**\n\t * Swap to AMP version of URL in preview.\n\t *\n\t * @return {void}\n\t */\n\tcomponent.updatePreviewUrl = function updatePreviewUrl() {\n\t\tapi.previewer.previewUrl.set( component.setCurrentAmpUrl( api.previewer.previewUrl.get() ) );\n\t};\n\n\t/**\n\t * Enable AMP and navigate to the given URL.\n\t *\n\t * @param {string} url - URL.\n\t * @return {void}\n\t */\n\tcomponent.enableAndNavigateToUrl = function enableAndNavigateToUrl( url ) {\n\t\tapi.state( 'ampEnabled' ).set( true );\n\t\tapi.previewer.previewUrl.set( url );\n\t};\n\n\t/**\n\t * Update panel notifications.\n\t *\n\t * @return {void}\n\t */\n\tcomponent.updatePanelNotifications = function updatePanelNotifications() {\n\t\tconst panel = api.panel( component.data.panelId );\n\t\tconst containers = panel.sections().concat( [ panel ] );\n\t\tif ( api.state( 'ampAvailable' ).get() ) {\n\t\t\t_.each( containers, function( container ) {\n\t\t\t\tcontainer.notifications.remove( 'amp_unavailable' );\n\t\t\t} );\n\t\t} else {\n\t\t\t_.each( containers, function( container ) {\n\t\t\t\tcontainer.notifications.add( new api.Notification( 'amp_unavailable', {\n\t\t\t\t\tmessage: component.data.l10n.unavailableMessage,\n\t\t\t\t\ttype: 'info',\n\t\t\t\t\tlinkText: component.data.l10n.unavailableLinkText,\n\t\t\t\t\turl: component.data.ampUrl,\n\t\t\t\t\ttemplateId: 'customize-amp-unavailable-notification',\n\t\t\t\t\trender() {\n\t\t\t\t\t\tconst li = api.Notification.prototype.render.call( this );\n\t\t\t\t\t\tli.find( 'a' ).on( 'click', function( event ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tcomponent.enableAndNavigateToUrl( this.href );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\treturn li;\n\t\t\t\t\t},\n\t\t\t\t} ) );\n\t\t\t} );\n\t\t}\n\t};\n\n\t/**\n\t * Hook up all AMP preview interactions once panel is ready.\n\t *\n\t * @param {wp.customize.Panel} panel The AMP panel.\n\t * @return {void}\n\t */\n\tcomponent.panelReady = function panelReady( panel ) {\n\t\tconst ampToggleContainer = $( wp.template( 'customize-amp-enabled-toggle' )( {\n\t\t\tmessage: component.data.l10n.unavailableMessage,\n\t\t\tlinkText: component.data.l10n.unavailableLinkText,\n\t\t\turl: component.data.ampUrl,\n\t\t} ) );\n\t\tconst checkbox = ampToggleContainer.find( 'input[type=checkbox]' );\n\t\tconst tooltip = ampToggleContainer.find( '.tooltip' );\n\t\tconst tooltipLink = tooltip.find( 'a' );\n\n\t\t// AMP panel triggers the input toggle for AMP preview.\n\t\tpanel.expanded.bind( function( expanded ) {\n\t\t\tif ( ! expanded ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( api.state( 'ampAvailable' ).get() ) {\n\t\t\t\tapi.state( 'ampEnabled' ).set( panel.expanded.get() );\n\t\t\t} else if ( ! panel.notifications ) {\n\t\t\t\t/*\n\t\t\t\t * This is only done if panel notifications aren't supported.\n\t\t\t\t * If they are (as of 4.9) then a notification will be shown\n\t\t\t\t * in the panel and its sections when AMP is not available.\n\t\t\t\t */\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tcomponent.tooltipVisible.set( true );\n\t\t\t\t}, 250 );\n\t\t\t}\n\t\t} );\n\n\t\tif ( panel.notifications ) {\n\t\t\tapi.state( 'ampAvailable' ).bind( component.updatePanelNotifications );\n\t\t\tcomponent.updatePanelNotifications();\n\t\t\tapi.section.bind( 'add', component.updatePanelNotifications );\n\t\t}\n\n\t\t// Message coming from previewer.\n\t\tapi.previewer.bind( 'amp-status', function( data ) {\n\t\t\tapi.state( 'ampAvailable' ).set( data.available );\n\t\t} );\n\t\tfunction setInitialAmpEnabledState( data ) {\n\t\t\tapi.state( 'ampEnabled' ).set( data.enabled );\n\t\t\tapi.previewer.unbind( 'amp-status', setInitialAmpEnabledState );\n\t\t}\n\t\tapi.previewer.bind( 'amp-status', setInitialAmpEnabledState );\n\n\t\t/*\n\t\t * Persist the presence or lack of the amp=1 param when navigating in the preview,\n\t\t * even if current page is not yet supported.\n\t\t */\n\t\tapi.previewer.previewUrl.validate = ( function( prevValidate ) {\n\t\t\treturn function( value ) {\n\t\t\t\tlet val = prevValidate.call( this, value );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tval = component.setCurrentAmpUrl( val );\n\t\t\t\t}\n\t\t\t\treturn val;\n\t\t\t};\n\t\t}( api.previewer.previewUrl.validate ) );\n\n\t\t// Listen for ampEnabled state changes.\n\t\tapi.state( 'ampEnabled' ).bind( function( enabled ) {\n\t\t\tcheckbox.prop( 'checked', enabled );\n\t\t\tcomponent.updatePreviewUrl();\n\n\t\t\t// Preview tablet device when AMP is enabled.\n\t\t\tif ( enabled ) {\n\t\t\t\tconst ampPreviewDevice = 'tablet';\n\t\t\t\tif ( ampPreviewDevice in api.settings.previewableDevices ) {\n\t\t\t\t\tapi.state( 'previewedDevice' ).set( ampPreviewDevice );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Listen for ampAvailable state changes.\n\t\tapi.state( 'ampAvailable' ).bind( function( available ) {\n\t\t\tcheckbox.toggleClass( 'disabled', ! available );\n\n\t\t\t// Show the unavailable tooltip if AMP is enabled.\n\t\t\tif ( api.state( 'ampEnabled' ).get() ) {\n\t\t\t\tcomponent.tooltipVisible.set( ! available );\n\t\t\t}\n\t\t} );\n\n\t\t// Adding checkbox toggle before device selection.\n\t\t$( '.devices-wrapper' ).prepend( ampToggleContainer );\n\n\t\t// Update tooltip for Customizer collapse button based on whether the pane is shown.\n\t\tconst collapseSidebarButton = $( '.collapse-sidebar.button' );\n\t\tconst collapseSidebarLabel = collapseSidebarButton.find( '> .collapse-sidebar-label' );\n\t\tconst updateCollapseSidebarTooltip = () => {\n\t\t\tif ( api.state( 'paneVisible' ).get() ) {\n\t\t\t\tcollapseSidebarButton.prop( 'title', collapseSidebarLabel.text() );\n\t\t\t} else {\n\t\t\t\tcollapseSidebarButton.prop( 'title', __( 'Show Controls', 'amp' ) );\n\t\t\t}\n\t\t};\n\t\tupdateCollapseSidebarTooltip();\n\t\tapi.state( 'paneVisible' ).bind( updateCollapseSidebarTooltip );\n\n\t\t// User clicked link within tooltip, go to linked post in preview.\n\t\ttooltipLink.on( 'click', function( event ) {\n\t\t\tevent.preventDefault();\n\t\t\tcomponent.enableAndNavigateToUrl( this.href );\n\t\t} );\n\n\t\t// Toggle visibility of tooltip based on tooltipVisible state.\n\t\tcomponent.tooltipVisible.bind( function( visible ) {\n\t\t\ttooltip.attr( 'aria-hidden', visible ? 'false' : 'true' );\n\t\t\tif ( visible ) {\n\t\t\t\t$( document ).on( 'click.amp-toggle-outside', function( event ) {\n\t\t\t\t\tif ( ! $.contains( ampToggleContainer[ 0 ], event.target ) ) {\n\t\t\t\t\t\tcomponent.tooltipVisible.set( false );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\ttooltip.fadeIn();\n\t\t\t\tcomponent.tryToCloseTooltip();\n\t\t\t} else {\n\t\t\t\ttooltip.fadeOut();\n\t\t\t\tcomponent.tooltipFocused.set( 0 );\n\t\t\t\t$( document ).off( 'click.amp-toggle-outside' );\n\t\t\t}\n\t\t} );\n\n\t\t// Handle click on checkbox to either enable the AMP preview or show the tooltip.\n\t\tcheckbox.on( 'click', function() {\n\t\t\tthis.checked = ! this.checked; // Undo what we just did, since state is managed in ampAvailable change handler.\n\t\t\tif ( api.state( 'ampAvailable' ).get() ) {\n\t\t\t\tapi.state( 'ampEnabled' ).set( ! api.state( 'ampEnabled' ).get() );\n\t\t\t} else {\n\t\t\t\tcomponent.tooltipVisible.set( true );\n\t\t\t}\n\t\t} );\n\n\t\t// Keep track of the user's state interacting with the tooltip.\n\t\ttooltip.on( 'mouseenter', function() {\n\t\t\tif ( ! api.state( 'ampAvailable' ).get() ) {\n\t\t\t\tcomponent.tooltipVisible.set( true );\n\t\t\t}\n\t\t\tcomponent.tooltipFocused.set( component.tooltipFocused.get() + 1 );\n\t\t} );\n\t\ttooltip.on( 'mouseleave', function() {\n\t\t\tcomponent.tooltipFocused.set( component.tooltipFocused.get() - 1 );\n\t\t} );\n\t\ttooltipLink.on( 'focus', function() {\n\t\t\tif ( ! api.state( 'ampAvailable' ).get() ) {\n\t\t\t\tcomponent.tooltipVisible.set( true );\n\t\t\t}\n\t\t\tcomponent.tooltipFocused.set( component.tooltipFocused.get() + 1 );\n\t\t} );\n\t\ttooltipLink.on( 'blur', function() {\n\t\t\tcomponent.tooltipFocused.set( component.tooltipFocused.get() - 1 );\n\t\t} );\n\t};\n\n\treturn component;\n}( wp.customize, jQuery ) );\n"],"names":["__","window","ampCustomizeControls","api","$","component","data","queryVar","panelId","ampUrl","l10n","unavailableMessage","unavailableLinkText","tooltipTimeout","tooltipVisible","Value","tooltipFocused","boot","initPanel","panel","panelReady","state","addState","bind","add","isAmpUrl","url","urlParser","document","createElement","regexEndpoint","RegExp","href","_","isUndefined","wp","customize","utils","parseQueryString","search","substr","test","pathname","unampifyUrl","replace","length","params","param","ampifyUrl","tryToCloseTooltip","clearTimeout","tooltipTimeoutId","setTimeout","get","set","setCurrentAmpUrl","enabled","updatePreviewUrl","previewer","previewUrl","enableAndNavigateToUrl","updatePanelNotifications","containers","sections","concat","each","container","notifications","remove","Notification","message","type","linkText","templateId","render","li","prototype","call","find","on","event","preventDefault","ampToggleContainer","template","checkbox","tooltip","tooltipLink","expanded","section","available","setInitialAmpEnabledState","unbind","validate","prevValidate","value","val","prop","ampPreviewDevice","settings","previewableDevices","toggleClass","prepend","collapseSidebarButton","collapseSidebarLabel","updateCollapseSidebarTooltip","text","visible","attr","contains","target","fadeIn","fadeOut","off","checked","jQuery"],"sourceRoot":""}